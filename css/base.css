/* Reset & Base Styles */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

html, body {
  height: 100%;
  margin: 0;
}

body {
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  background: var(--bg-primary, #0a0a0a);
  color: var(--text-primary, #fff);
  overflow-x: hidden;
  line-height: 1.6;
}

/* Legacy CSS Variables - DEPRECATED - Use design-tokens.css */
/* These are kept for backwards compatibility during transition */
:root {
  /* Deprecated - use design tokens */
  --primary: var(--brand-red);
  --bg: var(--bg-primary);
  --surface: var(--surface-primary);
  --text: var(--text-primary);
  --text-dim: var(--text-secondary);

  /* Section mood colors - migrated to design tokens */
  --mood-home: var(--accent-home);
  --mood-work: var(--accent-work);
  --mood-labs: var(--accent-labs);
  --mood-about: var(--accent-about);
  --mood-reading: var(--accent-life);
  --mood: var(--accent-home);

  /* Legacy blur values - use design tokens */
  --blur-sm: var(--blur-sm);
  --blur-md: var(--blur-md);
  --blur-lg: var(--blur-lg);
  --radius: var(--radius-lg);
  --maxw: 1200px;
  --nav-h: 64px;

  /* Motion */
  --intensity: 1;
}

/* Basic Elements */
a { 
  color: inherit; 
  text-decoration: none; 
}

img { 
  max-width: 100%; 
  display: block; 
}

button { 
  font: inherit; 
  color: inherit; 
  background: transparent; 
  border: none; 
  cursor: pointer; 
}

.container { 
  width: min(100%, var(--maxw)); 
  margin: 0 auto; 
  padding: 0 20px; 
}

/* Canvas Layers */
.canvas-wrap { 
  position: fixed; 
  inset: 0; 
  pointer-events: none; 
  z-index: 0; 
}

canvas.layer { 
  position: absolute; 
  inset: 0; 
  width: 100%; 
  height: 100%; 
  display: block; 
}

canvas#aurora { z-index: 0; }
canvas#particles { z-index: 1; }
canvas#fx { z-index: 2; }

/* Film Grain Effect */
.film-grain { 
  position: fixed; 
  inset: 0; 
  pointer-events: none; 
  z-index: 3; 
  opacity: 0.09; 
  mix-blend-mode: overlay; 
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.5"/></svg>'); 
  animation: grain 1.6s steps(2) infinite; 
}

/* Depth Fog */
.depth-fog { 
  position: fixed; 
  inset: 0; 
  pointer-events: none; 
  z-index: 2; 
  background: radial-gradient(600px 600px at 50% 50%, rgba(255,255,255,0.06), transparent 60%); 
  transition: background 120ms linear; 
}

/* Accessibility */
:focus-visible { 
  outline: 2px solid var(--mood); 
  outline-offset: 3px; 
  border-radius: 6px; 
}

/* Performance Monitor */
.perf-monitor {
  position: fixed;
  top: 80px;
  right: 20px;
  background: rgba(0,0,0,0.8);
  color: #0f0;
  font-family: monospace;
  font-size: 12px;
  padding: 8px;
  border-radius: 4px;
  z-index: 100;
  display: none;
}

.perf-monitor.show { 
  display: block; 
}
