/* Reset & Base Styles */
*, *::before, *::after { 
  box-sizing: border-box; 
}

html { 
  scroll-behavior: smooth; 
}

html, body { 
  height: 100%; 
  margin: 0;
}

body { 
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  background: var(--bg); 
  color: var(--text); 
  overflow-x: hidden; 
}

/* CSS Variables */
:root {
  /* Colors */
  --primary: #da0e29;
  --bg: #0a0a0a;
  --surface: rgba(255,255,255,0.03);
  --text: #fff;
  --text-dim: #9aa3ab;

  /* Mood colors for sections */
  --mood-home: #da0e29;
  --mood-work: #3b82f6;
  --mood-labs: #f59e0b;
  --mood-about: #8b5cf6;
  --mood-reading: #10b981;
  --mood: var(--mood-home);

  /* Aurora lights */
  --light-key: rgba(218,14,41,0.24);
  --light-fill: rgba(59,130,246,0.18);
  --light-rim: rgba(139,92,246,0.18);

  /* Sizing */
  --blur-sm: 6px;
  --blur-md: 12px;
  --blur-lg: 24px;
  --radius: 16px;
  --maxw: 1200px;
  --nav-h: 64px;

  /* Motion */
  --intensity: 1;
}

/* Basic Elements */
a { 
  color: inherit; 
  text-decoration: none; 
}

img { 
  max-width: 100%; 
  display: block; 
}

button { 
  font: inherit; 
  color: inherit; 
  background: transparent; 
  border: none; 
  cursor: pointer; 
}

.container { 
  width: min(100%, var(--maxw)); 
  margin: 0 auto; 
  padding: 0 20px; 
}

/* Canvas Layers */
.canvas-wrap { 
  position: fixed; 
  inset: 0; 
  pointer-events: none; 
  z-index: 0; 
}

canvas.layer { 
  position: absolute; 
  inset: 0; 
  width: 100%; 
  height: 100%; 
  display: block; 
}

canvas#aurora { z-index: 0; }
canvas#particles { z-index: 1; }
canvas#fx { z-index: 2; }

/* Film Grain Effect */
.film-grain { 
  position: fixed; 
  inset: 0; 
  pointer-events: none; 
  z-index: 3; 
  opacity: 0.09; 
  mix-blend-mode: overlay; 
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.5"/></svg>'); 
  animation: grain 1.6s steps(2) infinite; 
}

/* Depth Fog */
.depth-fog { 
  position: fixed; 
  inset: 0; 
  pointer-events: none; 
  z-index: 2; 
  background: radial-gradient(600px 600px at 50% 50%, rgba(255,255,255,0.06), transparent 60%); 
  transition: background 120ms linear; 
}

/* Accessibility */
:focus-visible { 
  outline: 2px solid var(--mood); 
  outline-offset: 3px; 
  border-radius: 6px; 
}

/* Performance Monitor */
.perf-monitor {
  position: fixed;
  top: 80px;
  right: 20px;
  background: rgba(0,0,0,0.8);
  color: #0f0;
  font-family: monospace;
  font-size: 12px;
  padding: 8px;
  border-radius: 4px;
  z-index: 100;
  display: none;
}

.perf-monitor.show { 
  display: block; 
}
