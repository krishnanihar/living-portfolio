<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latent Space — Nihar's Portfolio</title>
    <meta name="description" content="A speculative design exploration into the ethics of dream technology interfaces — Nihar's Portfolio">
    <meta name="theme-color" content="#0a0a0a">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <!-- Portfolio CSS Files -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/theme-consolidated.css">
    <link rel="stylesheet" href="css/sections.css">
    <link rel="stylesheet" href="css/bot.css">
    <link rel="stylesheet" href="css/particles.css">

    <style>
        /* Latent Space Design System - Clean & Minimal */
        :root {
            /* Core Design Tokens */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            --space-4xl: 6rem;

            /* Typography Scale */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;

            /* Modern Transitions */
            --ease-out: cubic-bezier(0.19, 1, 0.22, 1);
            --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: 0.15s var(--ease-out);
            --transition-base: 0.25s var(--ease-out);
            --transition-slow: 0.4s var(--ease-out);

            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
        }

        /* Dark Theme (Default) */
        [data-theme="dark"] {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2a2a2a;
            --bg-elevated: #1f1f1f;

            --text-primary: #ffffff;
            --text-secondary: #a3a3a3;
            --text-tertiary: #737373;
            --text-inverse: #0a0a0a;

            --border-primary: rgba(255, 255, 255, 0.1);
            --border-secondary: rgba(255, 255, 255, 0.05);
            --border-focus: rgba(255, 255, 255, 0.2);

            --surface-glass: rgba(255, 255, 255, 0.03);
            --surface-glass-hover: rgba(255, 255, 255, 0.05);
            --surface-glass-active: rgba(255, 255, 255, 0.08);

            --accent-primary: #da1b60;
            --accent-secondary: #7c3aed;
            --accent-tertiary: #0ea5e9;

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
        }

        /* Light Theme */
        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-elevated: #ffffff;

            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-tertiary: #94a3b8;
            --text-inverse: #ffffff;

            --border-primary: rgba(15, 23, 42, 0.1);
            --border-secondary: rgba(15, 23, 42, 0.05);
            --border-focus: rgba(15, 23, 42, 0.2);

            --surface-glass: rgba(255, 255, 255, 0.8);
            --surface-glass-hover: rgba(255, 255, 255, 0.9);
            --surface-glass-active: rgba(255, 255, 255, 1);

            --accent-primary: #dc2626;
            --accent-secondary: #7c3aed;
            --accent-tertiary: #0ea5e9;

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .latent-space-page {
            /* Legacy support */
            --glass: var(--surface-glass);
            --glass-border: var(--border-primary);
            --glass-hover: var(--surface-glass-hover);
            --gradient-from: var(--accent-primary);
            --gradient-via: var(--accent-secondary);
            --gradient-to: var(--accent-tertiary);
            --ease: var(--ease-out);
            --transition: var(--transition-base);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Inter", system-ui, -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            transition: background-color var(--transition-base), color var(--transition-base);
        }

        /* Page Load Animation - Removed transform to fix fixed positioning */
        .page-enter {
            opacity: 0;
        }

        .page-enter-active {
            opacity: 1;
            transition: opacity 0.6s ease;
        }

        /* Dynamic Background */
        .bg-orbs {
            position: fixed;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .bg-orb {
            position: absolute;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(139,92,246,0.02) 0%, transparent 50%);
            filter: blur(40px);
            opacity: 0.6;
            transition: var(--transition);
            transform: translate(-300px, -300px);
        }

        /* Interaction Counter */
        .interaction-counter {
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 50;
            padding: 6px 12px;
            border-radius: 50px;
            background: var(--glass-hover);
            border: 1px solid var(--glass-border);
            font-size: 10px;
            color: var(--text-tertiary);
            opacity: 0;
            transition: var(--transition);
        }

        .interaction-counter.visible {
            opacity: 1;
        }

        /* Navigation - Centered floating with proper positioning */
        .nav {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: min(90%, 600px);
            height: 56px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
            opacity: 1;
            box-shadow:
                0 10px 40px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .nav.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .nav-content {
            padding: 0 24px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .nav-back {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: -0.02em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: var(--text-primary);
            flex-shrink: 0;
        }

        .nav-back:hover {
            color: var(--accent-primary);
            transform: translateX(-2px);
        }

        .nav-back::before {
            content: '←';
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-back:hover::before {
            transform: translateX(-2px);
        }

        .nav-meta {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--text-secondary);
            padding: 6px 12px;
            background: rgba(218, 27, 96, 0.1);
            border-radius: 8px;
            flex-shrink: 0;
        }

        /* Enhanced Section Styles */
        .section {
            position: relative;
            padding: var(--space-4xl) var(--space-lg);
            z-index: 2;
            transition: all var(--transition-base);
        }

        .section:first-of-type {
            padding-top: calc(var(--space-4xl) + 40px); /* Account for floating nav */
        }

        /* Modern Card System */
        .card {
            background: var(--surface-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border-focus), transparent);
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .card:hover {
            background: var(--surface-glass-hover);
            border-color: var(--border-focus);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .card:hover::before {
            opacity: 1;
        }

        /* Enhanced Typography */
        .section-eyebrow {
            font-size: var(--text-xs);
            font-weight: 500;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--accent-primary);
            margin-bottom: var(--space-sm);
            opacity: 0.8;
        }

        .section-heading {
            font-size: var(--text-4xl);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: var(--space-md);
            background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-description {
            font-size: var(--text-lg);
            line-height: 1.6;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto var(--space-2xl);
        }

        /* Enhanced Button System */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-lg);
            background: var(--surface-glass);
            color: var(--text-primary);
            font-size: var(--text-sm);
            font-weight: 500;
            text-decoration: none;
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left var(--transition-slow);
        }

        .btn:hover {
            background: var(--surface-glass-hover);
            border-color: var(--border-focus);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: 1px solid var(--accent-primary);
            color: var(--text-inverse);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--accent-secondary), var(--accent-tertiary));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(var(--accent-primary), 0.3);
        }

        /* Enhanced Grid System */
        .grid {
            display: grid;
            gap: var(--space-lg);
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        /* Enhanced Flexbox Utilities */
        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-2 {
            gap: var(--space-sm);
        }

        .gap-4 {
            gap: var(--space-md);
        }

        .gap-6 {
            gap: var(--space-lg);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .section {
                padding: var(--space-3xl) var(--space-md);
            }

            .section:first-of-type {
                padding-top: calc(var(--space-3xl) + 40px);
            }

            .section-heading {
                font-size: var(--text-3xl);
            }

            .nav {
                width: min(95%, 500px);
                height: 48px;
            }

            .nav-content {
                padding: 0 16px;
            }

            .grid-2,
            .grid-3,
            .grid-4 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .nav {
                width: calc(100% - 32px);
                height: 44px;
            }

            .nav-content {
                padding: 0 12px;
            }

            .nav-meta {
                display: none;
            }
        }

        /* Performance Optimizations */
        .will-change-transform {
            will-change: transform;
        }

        .will-change-opacity {
            will-change: opacity;
        }

        /* Enhanced Focus States */
        .btn:focus,
        .nav-link:focus,
        .theme-option:focus {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
        }

        /* Smooth Page Transitions */
        * {
            scroll-behavior: smooth;
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* High Contrast Support */
        @media (prefers-contrast: high) {
            :root {
                --border-primary: rgba(255, 255, 255, 0.3);
                --border-secondary: rgba(255, 255, 255, 0.2);
                --surface-glass: rgba(255, 255, 255, 0.1);
            }
        }

        /* Dark Mode Enhancements */
        [data-theme="dark"] {
            color-scheme: dark;
        }

        [data-theme="light"] {
            color-scheme: light;
        }

        /* Theme Toggle - Fixed positioning */
        .theme-toggle {
            position: fixed !important;
            bottom: 24px !important;
            left: 24px !important;
            z-index: 10000 !important;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            /* Glassmorphism design to match hero card */
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(24px) saturate(1.5);
            -webkit-backdrop-filter: blur(24px) saturate(1.5);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow:
                0 2px 8px rgba(0, 0, 0, 0.1),
                0 8px 16px rgba(0, 0, 0, 0.1),
                0 16px 32px rgba(0, 0, 0, 0.1),
                inset 0 0 0 1px rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            display: grid;
            place-items: center;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .theme-toggle:hover {
            transform: scale(1.05) translateY(-2px);
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 1);
            box-shadow:
                0 4px 16px rgba(0, 0, 0, 0.15),
                0 16px 32px rgba(0, 0, 0, 0.1),
                0 32px 64px rgba(0, 0, 0, 0.1),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        [data-theme="light"] .theme-toggle {
            background: rgba(255, 255, 255, 0.85);
            border: 1px solid rgba(0, 0, 0, 0.06);
            color: rgba(0, 0, 0, 0.7);
            box-shadow:
                0 2px 8px rgba(0, 0, 0, 0.02),
                0 8px 16px rgba(0, 0, 0, 0.03),
                0 16px 32px rgba(0, 0, 0, 0.04);
        }

        [data-theme="light"] .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(0, 0, 0, 0.1);
            color: rgba(0, 0, 0, 0.9);
            box-shadow:
                0 4px 16px rgba(0, 0, 0, 0.08),
                0 16px 32px rgba(0, 0, 0, 0.06),
                0 32px 64px rgba(0, 0, 0, 0.04);
        }

        /* Mobile adjustments for theme toggle */
        @media (max-width: 768px) {
            .theme-toggle {
                left: 16px !important;
                bottom: 16px !important;
                width: 44px !important;
                height: 44px !important;
            }

            /* iOS safe areas */
            @supports (padding: max(0px)) {
                .theme-toggle {
                    left: max(16px, env(safe-area-inset-left)) !important;
                    bottom: max(16px, env(safe-area-inset-bottom)) !important;
                }
            }
        }

        /* Bot Fix - Ensure bot is visible */
        .bot-fab {
            position: fixed !important;
            bottom: 24px !important;
            right: 24px !important;
            z-index: 10001 !important;
            display: grid !important;
            place-items: center !important;
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
        }

        .bot-panel {
            position: fixed !important;
            z-index: 10002 !important;
            opacity: 1 !important;
            visibility: visible !important;
        }

        .section-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: var(--space-3xl);
        }

        .section-eyebrow {
            font-size: 10px;
            font-weight: 300;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: var(--text-ghost);
            margin-bottom: 1rem;
        }

        .section-heading {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 200;
            letter-spacing: -0.02em;
            color: var(--text-primary);
            line-height: 1.1;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            text-align: center;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border-radius: 50px;
            border: 1px solid var(--glass-border);
            background: var(--glass);
            margin-bottom: 2.5rem;
            cursor: pointer;
            transition: var(--transition);
            font-size: 10px;
            font-weight: 300;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: var(--text-tertiary);
        }

        .hero-badge:hover {
            background: var(--glass-hover);
            transform: scale(1.02);
        }

        .hero-badge-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--gradient-from), var(--gradient-via));
            animation: pulse 2s infinite;
        }

        .hero-title {
            font-size: clamp(4rem, 12vw, 8rem);
            font-weight: 100;
            letter-spacing: -0.05em;
            line-height: 0.9;
            margin-bottom: 2rem;
            cursor: default;
            transition: var(--transition);
        }

        .hero-title-line {
            display: block;
            background: linear-gradient(to bottom, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: var(--transition);
        }

        .hero-title-line:last-child {
            background: linear-gradient(to bottom, var(--text-secondary), var(--text-tertiary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-top: -1rem;
        }

        .hero-title:hover .hero-title-line {
            filter: blur(0px);
            transform: scale(1.02);
        }

        .hero-desc {
            font-size: clamp(0.875rem, 2vw, 1rem);
            font-weight: 300;
            color: var(--text-tertiary);
            max-width: 42rem;
            margin: 0 auto 3rem;
            line-height: 1.7;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 5rem;
        }

        .btn {
            position: relative;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 1rem 2rem;
            border-radius: 50px;
            border: 1px solid var(--glass-border);
            background: var(--glass);
            color: var(--text-primary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 300;
            transition: var(--transition);
            cursor: pointer;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(236, 72, 153, 0.1));
            border-color: rgba(124, 58, 237, 0.3);
        }

        .btn:hover {
            background: var(--glass-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.2), rgba(236, 72, 153, 0.2));
        }

        .btn svg {
            width: 16px;
            height: 16px;
            opacity: 0.7;
            transition: var(--transition);
        }

        .btn:hover svg {
            opacity: 1;
            transform: translateX(2px);
        }

        /* Stats */
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            max-width: 32rem;
            margin: 0 auto;
        }

        .stat {
            text-align: center;
            padding: 1.5rem;
            border-radius: 16px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            transition: var(--transition);
        }

        .stat:hover {
            background: var(--glass-hover);
            transform: translateY(-2px);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 200;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }

        .stat-label {
            font-size: 10px;
            font-weight: 300;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--text-tertiary);
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            cursor: pointer;
            transition: var(--transition);
        }

        .scroll-indicator:hover {
            transform: translateX(-50%) translateY(-4px);
        }

        .scroll-mouse {
            width: 20px;
            height: 32px;
            border: 1px solid var(--text-ghost);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            position: relative;
        }

        .scroll-dot {
            width: 2px;
            height: 4px;
            background: var(--text-tertiary);
            border-radius: 2px;
            margin-top: 8px;
            animation: scrollDot 2s infinite;
        }

        /* Cards */
        .card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            transition: var(--transition);
            cursor: pointer;
        }

        .card:hover {
            background: var(--glass-hover);
            border-color: rgba(255, 255, 255, 0.08);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes scrollDot {
            0% { opacity: 0; transform: translateY(0); }
            50% { opacity: 1; transform: translateY(8px); }
            100% { opacity: 0; transform: translateY(16px); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s var(--ease) forwards;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .section {
                padding: 4rem 1rem;
            }

            .hero-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .hero-cta {
                flex-direction: column;
                align-items: center;
            }

            .grid-2,
            .grid-3,
            .grid-4 {
                grid-template-columns: 1fr;
            }
        }

        /* Metric Cards */
        .metric-card {
            position: relative;
            padding: 2rem;
            border-radius: 20px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            transition: var(--transition);
            cursor: pointer;
        }

        .metric-card:hover {
            background: var(--glass-hover);
            border-color: rgba(255, 255, 255, 0.08);
            transform: translateY(-4px);
        }

        .metric-card.active {
            background: var(--glass-hover);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 100;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .metric-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .metric-detail {
            font-size: 12px;
            color: var(--text-tertiary);
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--glass-border);
            opacity: 0;
            transform: translateY(-10px);
            transition: var(--transition);
        }

        .metric-card:hover .metric-detail,
        .metric-card.active .metric-detail {
            opacity: 1;
            transform: translateY(0);
        }

        /* Chapter Cards */
        .chapter-card {
            position: relative;
            padding: 2rem;
            border-radius: 20px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 1.5rem;
        }

        .chapter-card:hover {
            background: var(--glass-hover);
        }

        .chapter-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .chapter-number {
            font-size: 2rem;
            font-weight: 100;
            color: var(--text-ghost);
            margin-right: 1.5rem;
            flex-shrink: 0;
        }

        .chapter-title {
            font-size: 1.125rem;
            font-weight: 300;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .chapter-brief {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .chapter-expand {
            width: 20px;
            height: 20px;
            color: var(--text-ghost);
            transition: var(--transition);
        }

        .chapter-card.expanded .chapter-expand {
            transform: rotate(90deg);
        }

        .chapter-full {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s var(--ease), opacity 0.3s var(--ease);
            margin-top: 1.5rem;
            padding-top: 0;
            border-top: 0px solid var(--glass-border);
            opacity: 0;
        }

        .chapter-card.expanded .chapter-full {
            max-height: 500px;
            padding-top: 1.5rem;
            border-top-width: 1px;
            opacity: 1;
        }

        .chapter-text {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .chapter-stats {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .chapter-stat {
            padding: 6px 12px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--glass-border);
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Science Section */
        .science-nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 300;
            transition: var(--transition);
            cursor: pointer;
            border: 1px solid var(--glass-border);
            background: var(--glass);
            color: var(--text-secondary);
        }

        .science-nav-btn.active {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(236, 72, 153, 0.1));
            border-color: rgba(124, 58, 237, 0.3);
            color: var(--text-primary);
        }

        .science-nav-btn:hover {
            background: var(--glass-hover);
            color: var(--text-primary);
        }

        .science-view {
            opacity: 1;
            transition: opacity 0.3s var(--ease);
        }

        .science-view:not(.active) {
            display: none;
        }

        .stage-card {
            position: relative;
            padding: 2rem;
            border-radius: 20px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: var(--transition);
            overflow: hidden;
        }

        .stage-card:hover {
            background: var(--glass-hover);
            transform: translateY(-2px);
        }

        .stage-card.selected {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .stage-bg {
            position: absolute;
            inset: 0;
            opacity: 0;
            transition: var(--transition);
        }

        .stage-card:hover .stage-bg,
        .stage-card.selected .stage-bg {
            opacity: 1;
        }

        .stage-content {
            position: relative;
            z-index: 2;
        }

        .sleep-slider {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            outline: none;
            appearance: none;
            cursor: pointer;
        }

        .sleep-slider::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .sleep-slider::-webkit-slider-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .sleep-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            border: none;
        }

        /* Utility Classes */
        .max-w-5xl {
            max-width: 80rem;
        }

        .max-w-6xl {
            max-width: 72rem;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .flex {
            display: flex;
        }

        .gap-2 {
            gap: 0.5rem;
        }

        .gap-4 {
            gap: 1rem;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .justify-center {
            justify-content: center;
        }

        .items-center {
            align-items: center;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .flex-1 {
            flex: 1;
        }

        .space-y-4 > * + * {
            margin-top: 1rem;
        }

        .w-3 {
            width: 0.75rem;
        }

        .h-3 {
            width: 0.75rem;
        }

        .w-full {
            width: 100%;
        }

        .h-full {
            height: 100%;
        }

        .h-32 {
            height: 8rem;
        }

        .text-xs {
            font-size: 0.75rem;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-2xl {
            font-size: 1.5rem;
        }

        .text-3xl {
            font-size: 1.875rem;
        }

        .font-extralight {
            font-weight: 200;
        }

        .font-thin {
            font-weight: 100;
        }

        .font-light {
            font-weight: 300;
        }

        .rounded-full {
            border-radius: 9999px;
        }

        .text-center {
            text-align: center;
        }

        .relative {
            position: relative;
        }

        .mb-6 {
            margin-bottom: 1.5rem;
        }

        .mb-12 {
            margin-bottom: 3rem;
        }

        .mb-16 {
            margin-bottom: 4rem;
        }

        .mt-12 {
            margin-top: 3rem;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 3px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-ghost);
            border-radius: 3px;
        }

        /* Architecture Section Styles */
        .architecture-layer {
            position: relative;
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .architecture-layer:hover {
            transform: scale(1.02);
        }

        .architecture-layer.selected {
            background: var(--glass-hover) !important;
            border-color: var(--border-secondary) !important;
        }

        /* Prototype Section Styles */
        .prototype-tab {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 300;
            transition: all 0.3s ease;
            background: var(--glass);
            color: var(--text-secondary);
            border: 1px solid var(--glass-border);
            cursor: pointer;
        }

        .prototype-tab.active {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(236, 72, 153, 0.1));
            color: var(--text-primary);
            border-color: rgba(124, 58, 237, 0.3);
        }

        .prototype-tab:hover:not(.active) {
            color: var(--text-primary);
            background: var(--glass-hover);
        }

        .prototype-icon {
            display: inline-block;
            font-size: 16px;
        }

        .prototype-content {
            display: none;
        }

        .prototype-content.active {
            display: block;
        }

        /* Science Section Enhanced Styles */
        .science-nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 300;
            transition: all 0.3s ease;
            background: var(--glass);
            color: var(--text-secondary);
            border: 1px solid var(--glass-border);
            cursor: pointer;
        }

        .science-nav-btn.active {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(236, 72, 153, 0.1));
            color: var(--text-primary);
            border-color: rgba(124, 58, 237, 0.3);
        }

        .science-nav-btn:hover:not(.active) {
            color: var(--text-primary);
            background: var(--glass-hover);
        }

        .science-view {
            display: none;
        }

        .science-view.active {
            display: block;
        }

        .wave-card.selected,
        .detector-card.selected,
        .pipeline-step.selected {
            background: var(--glass-hover) !important;
            border-color: var(--border-secondary) !important;
            transform: translateX(8px);
        }

        .research-paper.expanded .paper-abstract {
            display: block !important;
        }

        /* App Experience Styles */
        .app-screen {
            display: none;
        }

        .app-screen.active {
            display: block;
        }

        .app-nav-btn.active span {
            opacity: 1 !important;
            transform: scale(1.1);
        }

        /* Component Styles */
        .component-btn {
            padding: 24px;
            border-radius: 16px;
            transition: all 0.3s ease;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            cursor: pointer;
            text-align: center;
        }

        .component-btn.active {
            background: var(--glass-hover);
            border-color: var(--border-secondary);
        }

        .component-btn:hover:not(.active) {
            background: var(--glass-hover);
        }

        /* Explorer Mode Styles */
        .explorer-mode-btn {
            background: transparent;
            border: none;
            cursor: pointer;
        }

        .explorer-mode-btn.active span {
            background: var(--glass-hover);
            color: var(--text-primary);
        }

        .explorer-mode-btn:not(.active) span {
            background: var(--glass);
            color: var(--text-secondary);
            border: 1px solid var(--glass-border);
        }

        .explorer-mode-btn:hover:not(.active) span {
            color: var(--text-primary);
            background: var(--glass-hover);
        }

        /* Dream Nodes Styles */
        .dream-node {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dream-node:hover {
            transform: scale(1.1);
        }

        .dream-node-glow {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            filter: blur(10px);
            opacity: 0.5;
        }

        .dream-node-core {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            opacity: 0.6;
        }

        .dream-node-label {
            position: absolute;
            bottom: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            color: var(--text-tertiary);
            white-space: nowrap;
        }

        /* Utility Classes */
        .flex {
            display: flex;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-2 {
            gap: 8px;
        }

        .gap-4 {
            gap: 16px;
        }

        .gap-6 {
            gap: 24px;
        }

        .gap-8 {
            gap: 32px;
        }

        .grid {
            display: grid;
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, 1fr);
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        .grid-cols-4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .rounded-xl {
            border-radius: 12px;
        }

        .rounded-2xl {
            border-radius: 16px;
        }

        .mb-8 {
            margin-bottom: 32px;
        }

        .mb-12 {
            margin-bottom: 48px;
        }

        .mt-6 {
            margin-top: 24px;
        }

        .mt-8 {
            margin-top: 32px;
        }

        .p-4 {
            padding: 16px;
        }

        .p-6 {
            padding: 24px;
        }

        .px-6 {
            padding-left: 24px;
            padding-right: 24px;
        }

        .py-3 {
            padding-top: 12px;
            padding-bottom: 12px;
        }

        .text-center {
            text-align: center;
        }

        .text-sm {
            font-size: 14px;
        }

        .text-xs {
            font-size: 12px;
        }

        .font-light {
            font-weight: 300;
        }

        .font-extralight {
            font-weight: 200;
        }

        .cursor-pointer {
            cursor: pointer;
        }

        .hidden {
            display: none;
        }

        .transition-all {
            transition: all 0.3s ease;
        }

        .duration-300 {
            transition-duration: 300ms;
        }

        .max-w-5xl {
            max-width: 80rem;
        }

        .max-w-6xl {
            max-width: 96rem;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .relative {
            position: relative;
        }

        .absolute {
            position: absolute;
        }

        .inset-0 {
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }

        .z-10 {
            z-index: 10;
        }

        .space-y-4 > * + * {
            margin-top: 16px;
        }

        .space-y-6 > * + * {
            margin-top: 24px;
        }

        @media (max-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: 1fr;
            }

            .grid-cols-3 {
                grid-template-columns: 1fr;
            }

            .grid-cols-4 {
                grid-template-columns: repeat(2, 1fr);
            }

            .lg\\:grid-cols-2 {
                grid-template-columns: 1fr;
            }

            .flex-wrap {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body class="latent-space-page" data-theme="dark">
    <!-- Theme Toggle - Exact copy from Air India -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
        <span class="theme-icon">🌙</span>
    </button>

    <!-- Navigation - Exact copy from Air India -->
    <nav class="nav" id="nav">
        <div class="nav-content">
            <a href="./index.html" class="nav-back">Back</a>
            <div class="nav-meta">Latent Space · 2024</div>
        </div>
    </nav>
    <!-- Particles Canvas -->
    <canvas id="particles" aria-hidden="true"></canvas>


    <!-- Dynamic Background -->
    <div class="bg-orbs">
        <div class="bg-orb" id="orb1"></div>
    </div>

    <!-- Interaction Counter -->
    <div class="interaction-counter" id="interactionCounter">
        Interactions: <span id="interactionCount">0</span>
    </div>

    <!-- Hero Section -->
    <section class="hero section">
        <div class="section-container">
            <div class="hero-badge" onclick="trackInteraction()">
                <div class="hero-badge-dot"></div>
                Speculative Design
            </div>

            <h1 class="hero-title" onmouseenter="this.style.filter='blur(0px)'" onmouseleave="this.style.filter='blur(0.5px)'">
                <span class="hero-title-line">Latent</span>
                <span class="hero-title-line">Space</span>
            </h1>

            <p class="hero-desc">
                A speculative exploration: What if we could navigate our dreams
                through technology while preserving the mystery of consciousness?
            </p>

            <div class="hero-cta">
                <button class="btn btn-primary" onclick="trackInteraction(); smoothScrollTo('research')">
                    <span>Explore Concept</span>
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
                <button class="btn" onclick="trackInteraction(); playDemo()">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <polygon stroke-linecap="round" stroke-linejoin="round" stroke-width="2" points="5,3 19,12 5,21"/>
                    </svg>
                    <span>View Speculation</span>
                </button>
            </div>

            <div class="hero-stats">
                <div class="stat">
                    <div class="stat-value" data-target="47">0</div>
                    <div class="stat-label">Concepts Explored</div>
                </div>
                <div class="stat">
                    <div class="stat-value" data-target="23">0</div>
                    <div class="stat-label">Design Questions</div>
                </div>
                <div class="stat">
                    <div class="stat-value" data-target="12">0</div>
                    <div class="stat-label">Future Scenarios</div>
                </div>
            </div>

            <div class="scroll-indicator" onclick="trackInteraction(); smoothScrollTo('research')">
                <div class="scroll-mouse">
                    <div class="scroll-dot"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Research Overview -->
    <section class="section" id="research">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Design Research</div>
                <h2 class="section-heading">Exploring Possibilities</h2>
            </div>

            <div class="max-w-5xl mx-auto">
                <p class="text-center text-sm" style="color: rgba(255,255,255,0.4); margin-bottom: 3rem; max-width: 48rem; margin-left: auto; margin-right: auto;">
                    This speculative design project imagines a future where dream technology exists.
                    What questions would we need to ask? What ethical frameworks would guide us?
                </p>

                <div class="grid-4" id="metrics-grid">
                    <div class="metric-card" onclick="selectMetric(this, 0)">
                        <div class="metric-value">24</div>
                        <div class="metric-label">Design Provocations</div>
                        <div class="metric-detail">Critical questions about consciousness and technology</div>
                    </div>
                    <div class="metric-card" onclick="selectMetric(this, 1)">
                        <div class="metric-value">16</div>
                        <div class="metric-label">Ethical Considerations</div>
                        <div class="metric-detail">Privacy, agency, and mental sovereignty</div>
                    </div>
                    <div class="metric-card" onclick="selectMetric(this, 2)">
                        <div class="metric-value">8</div>
                        <div class="metric-label">Speculative Scenarios</div>
                        <div class="metric-detail">Possible futures of dream technology</div>
                    </div>
                    <div class="metric-card" onclick="selectMetric(this, 3)">
                        <div class="metric-value">12</div>
                        <div class="metric-label">Design Principles</div>
                        <div class="metric-detail">Guidelines for ethical dream interfaces</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Detailed Story Section -->
    <section class="section" id="story">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Narrative Arc</div>
                <h2 class="section-heading">The Journey from Dreams to Data</h2>
            </div>

            <div style="max-width: 64rem; margin: 0 auto;">
                <div class="chapter-card" onclick="toggleChapter(this)">
                    <div class="chapter-header">
                        <div style="display: flex; align-items: baseline; flex: 1;">
                            <div class="chapter-number">I</div>
                            <div>
                                <div class="chapter-title">The Forgetting Curve</div>
                                <div class="chapter-brief">What if we could capture ephemeral dreams?</div>
                            </div>
                        </div>
                        <svg class="chapter-expand" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </div>
                    <div class="chapter-full">
                        <div class="chapter-text">
                            This speculation begins with a provocation: our dreams vanish within minutes of waking. But should they? What would it mean for human experience if we could preserve these nocturnal narratives? Would we discover hidden insights, or lose something essential about the mystery of consciousness?
                        </div>
                        <div class="chapter-stats">
                            <div class="chapter-stat">Critical Question</div>
                            <div class="chapter-stat">Ethical Implications</div>
                            <div class="chapter-stat">Design Fiction</div>
                        </div>
                    </div>
                </div>

                <div class="chapter-card" onclick="toggleChapter(this)">
                    <div class="chapter-header">
                        <div style="display: flex; align-items: baseline; flex: 1;">
                            <div class="chapter-number">II</div>
                            <div>
                                <div class="chapter-title">The Neural Bridge</div>
                                <div class="chapter-brief">Imagining consumer brain-computer interfaces</div>
                            </div>
                        </div>
                        <svg class="chapter-expand" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </div>
                    <div class="chapter-full">
                        <div class="chapter-text">
                            What if EEG technology evolved to be as common as smartwatches? This concept explores a future where neural interfaces are normalized, raising questions about mental privacy, data sovereignty, and the commodification of consciousness. Who would control this technology, and what safeguards would we need?
                        </div>
                        <div class="chapter-stats">
                            <div class="chapter-stat">Speculative Technology</div>
                            <div class="chapter-stat">Privacy Concerns</div>
                            <div class="chapter-stat">Future Scenario</div>
                        </div>
                    </div>
                </div>

                <div class="chapter-card" onclick="toggleChapter(this)">
                    <div class="chapter-header">
                        <div style="display: flex; align-items: baseline; flex: 1;">
                            <div class="chapter-number">III</div>
                            <div>
                                <div class="chapter-title">The Cartography</div>
                                <div class="chapter-brief">Mapping the unmappable mind</div>
                            </div>
                        </div>
                        <svg class="chapter-expand" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </div>
                    <div class="chapter-full">
                        <div class="chapter-text">
                            Can the subjective experience of dreams be translated into objective data? This design fiction imagines using machine learning to create 'latent spaces' of dream content. But in making the invisible visible, what nuances and meanings might be lost in translation?
                        </div>
                        <div class="chapter-stats">
                            <div class="chapter-stat">Data Representation</div>
                            <div class="chapter-stat">Meaning Making</div>
                            <div class="chapter-stat">Interpretation</div>
                        </div>
                    </div>
                </div>

                <div class="chapter-card" onclick="toggleChapter(this)">
                    <div class="chapter-header">
                        <div style="display: flex; align-items: baseline; flex: 1;">
                            <div class="chapter-number">IV</div>
                            <div>
                                <div class="chapter-title">The Morning Ritual</div>
                                <div class="chapter-brief">Designing for dream agency</div>
                            </div>
                        </div>
                        <svg class="chapter-expand" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </div>
                    <div class="chapter-full">
                        <div class="chapter-text">
                            If such technology existed, how would we interact with it? This speculation envisions interfaces that respect the liminal nature of dreams while providing tools for reflection. It questions whether understanding our dreams would empower us or constrain the freedom of our unconscious minds.
                        </div>
                        <div class="chapter-stats">
                            <div class="chapter-stat">Interface Design</div>
                            <div class="chapter-stat">User Agency</div>
                            <div class="chapter-stat">Ethical Design</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comprehensive Science Section -->
    <section class="section" id="science">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Neuroscience</div>
                <h2 class="section-heading">The Science of Sleep & Dreams</h2>
            </div>

            <!-- Interactive navigation -->
            <div class="flex gap-2 justify-center mb-16 flex-wrap" id="science-nav">
                <button class="science-nav-btn active" data-view="stages" onclick="switchScienceView('stages')">
                    <span>🌙</span> Sleep Stages
                </button>
                <button class="science-nav-btn" data-view="waves" onclick="switchScienceView('waves')">
                    <span>📊</span> Brain Waves
                </button>
                <button class="science-nav-btn" data-view="detection" onclick="switchScienceView('detection')">
                    <span>👁️</span> Detection
                </button>
                <button class="science-nav-btn" data-view="processing" onclick="switchScienceView('processing')">
                    <span>💻</span> Processing
                </button>
                <button class="science-nav-btn" data-view="research" onclick="switchScienceView('research')">
                    <span>📖</span> Papers
                </button>
            </div>

            <!-- Science content views -->
            <div id="science-content">
                <!-- Sleep Stages View -->
                <div class="science-view active" id="stages-view">
                    <div class="max-w-6xl mx-auto">
                        <!-- Legend -->
                        <div class="flex justify-center gap-6 mb-6">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full" style="background: rgba(59, 130, 246, 0.5);"></div>
                                <span class="text-xs" style="color: rgba(255,255,255,0.4);">WAKE</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full" style="background: rgba(168, 85, 247, 0.5);"></div>
                                <span class="text-xs" style="color: rgba(255,255,255,0.4);">N1</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full" style="background: rgba(99, 102, 241, 0.5);"></div>
                                <span class="text-xs" style="color: rgba(255,255,255,0.4);">N2</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full" style="background: rgba(236, 72, 153, 0.5);"></div>
                                <span class="text-xs" style="color: rgba(255,255,255,0.4);">N3</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full" style="background: rgba(251, 146, 60, 0.5);"></div>
                                <span class="text-xs" style="color: rgba(255,255,255,0.4);">REM</span>
                            </div>
                        </div>

                        <!-- Sleep stage controls -->
                        <div class="mb-12 p-6 rounded-2xl bg-white/[0.02] border border-white/5">
                            <h3 class="text-sm font-light" style="color: rgba(255,255,255,0.6); margin-bottom: 1rem;">Adjust Sleep Stage Distribution</h3>
                            <div class="space-y-4">
                                <div class="flex items-center gap-4">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.4); width: 4rem;">WAKE</span>
                                    <input type="range" id="wake-slider" min="0" max="25" value="5" class="sleep-slider flex-1" onchange="updateSleepStage('wake', this.value)">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.6); width: 3rem;" id="wake-value">5%</span>
                                </div>
                                <div class="flex items-center gap-4">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.4); width: 4rem;">N1</span>
                                    <input type="range" id="n1-slider" min="0" max="15" value="5" class="sleep-slider flex-1" onchange="updateSleepStage('n1', this.value)">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.6); width: 3rem;" id="n1-value">5%</span>
                                </div>
                                <div class="flex items-center gap-4">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.4); width: 4rem;">N2</span>
                                    <input type="range" id="n2-slider" min="20" max="60" value="45" class="sleep-slider flex-1" onchange="updateSleepStage('n2', this.value)">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.6); width: 3rem;" id="n2-value">45%</span>
                                </div>
                                <div class="flex items-center gap-4">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.4); width: 4rem;">N3</span>
                                    <input type="range" id="n3-slider" min="10" max="40" value="25" class="sleep-slider flex-1" onchange="updateSleepStage('n3', this.value)">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.6); width: 3rem;" id="n3-value">25%</span>
                                </div>
                                <div class="flex items-center gap-4">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.4); width: 4rem;">REM</span>
                                    <input type="range" id="rem-slider" min="15" max="30" value="20" class="sleep-slider flex-1" onchange="updateSleepStage('rem', this.value)">
                                    <span class="text-xs" style="color: rgba(255,255,255,0.6); width: 3rem;" id="rem-value">20%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Interactive stages grid -->
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-4" id="stages-grid">
                            <div class="stage-card" data-stage="wake" onclick="selectStage('wake')">
                                <div class="stage-bg" style="background: linear-gradient(to bottom, rgba(59, 130, 246, 0.2), transparent);"></div>
                                <div class="stage-content">
                                    <div class="text-2xl font-extralight" style="color: rgba(255,255,255,0.8);">Wake</div>
                                    <div class="text-3xl font-thin" style="color: rgba(255,255,255,0.4);" id="wake-percent">5%</div>
                                    <p class="text-xs" style="color: rgba(255,255,255,0.3);">Beta (13-30 Hz) dominant</p>
                                </div>
                            </div>

                            <div class="stage-card" data-stage="n1" onclick="selectStage('n1')">
                                <div class="stage-bg" style="background: linear-gradient(to bottom, rgba(168, 85, 247, 0.2), transparent);"></div>
                                <div class="stage-content">
                                    <div class="text-2xl font-extralight" style="color: rgba(255,255,255,0.8);">Stage N1</div>
                                    <div class="text-3xl font-thin" style="color: rgba(255,255,255,0.4);" id="n1-percent">5%</div>
                                    <p class="text-xs" style="color: rgba(255,255,255,0.3);">Theta (4-8 Hz) emerging</p>
                                </div>
                            </div>

                            <div class="stage-card" data-stage="n2" onclick="selectStage('n2')">
                                <div class="stage-bg" style="background: linear-gradient(to bottom, rgba(99, 102, 241, 0.2), transparent);"></div>
                                <div class="stage-content">
                                    <div class="text-2xl font-extralight" style="color: rgba(255,255,255,0.8);">Stage N2</div>
                                    <div class="text-3xl font-thin" style="color: rgba(255,255,255,0.4);" id="n2-percent">45%</div>
                                    <p class="text-xs" style="color: rgba(255,255,255,0.3);">Sleep spindles & K-complexes</p>
                                </div>
                            </div>

                            <div class="stage-card" data-stage="n3" onclick="selectStage('n3')">
                                <div class="stage-bg" style="background: linear-gradient(to bottom, rgba(236, 72, 153, 0.2), transparent);"></div>
                                <div class="stage-content">
                                    <div class="text-2xl font-extralight" style="color: rgba(255,255,255,0.8);">Stage N3</div>
                                    <div class="text-3xl font-thin" style="color: rgba(255,255,255,0.4);" id="n3-percent">25%</div>
                                    <p class="text-xs" style="color: rgba(255,255,255,0.3);">Delta (0.5-4 Hz) waves</p>
                                </div>
                            </div>

                            <div class="stage-card" data-stage="rem" onclick="selectStage('rem')">
                                <div class="stage-bg" style="background: linear-gradient(to bottom, rgba(251, 146, 60, 0.2), transparent);"></div>
                                <div class="stage-content">
                                    <div class="text-2xl font-extralight" style="color: rgba(255,255,255,0.8);">REM Sleep</div>
                                    <div class="text-3xl font-thin" style="color: rgba(255,255,255,0.4);" id="rem-percent">20%</div>
                                    <p class="text-xs" style="color: rgba(255,255,255,0.3);">Mixed frequency, theta dominant</p>
                                </div>
                            </div>
                        </div>

                        <!-- Hypnogram visualization -->
                        <div class="mt-12 p-6 rounded-2xl bg-white/[0.02] border border-white/5">
                            <h3 class="text-sm font-light" style="color: rgba(255,255,255,0.6); margin-bottom: 1.5rem;">Typical Night Hypnogram</h3>
                            <div class="h-32 relative">
                                <canvas id="hypnogram-canvas" class="w-full h-full"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other views will be added next -->
                <!-- Brain Waves View -->
                <div class="science-view" id="waves-view" style="display: none;">
                    <div class="max-w-6xl mx-auto">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Wave selector and details -->
                            <div class="space-y-4">
                                <div class="wave-card cursor-pointer p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300" onclick="selectWave('delta')">
                                    <div class="flex items-center justify-between mb-3">
                                        <div>
                                            <span class="text-base font-light text-white/80">Delta Wave</span>
                                            <span class="text-xs text-white/40 ml-3">0.5-4 Hz</span>
                                        </div>
                                        <div class="text-xs text-white/30">Deep sleep, healing</div>
                                    </div>
                                    <div class="h-1 bg-white/5 rounded-full overflow-hidden">
                                        <div class="h-full w-4/5 bg-red-500 rounded-full transition-all duration-500" style="background-color: #ef4444;"></div>
                                    </div>
                                </div>

                                <div class="wave-card cursor-pointer p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300" onclick="selectWave('theta')">
                                    <div class="flex items-center justify-between mb-3">
                                        <div>
                                            <span class="text-base font-light text-white/80">Theta Wave</span>
                                            <span class="text-xs text-white/40 ml-3">4-8 Hz</span>
                                        </div>
                                        <div class="text-xs text-white/30">REM sleep, creativity</div>
                                    </div>
                                    <div class="h-1 bg-white/5 rounded-full overflow-hidden">
                                        <div class="h-full w-3/5 bg-amber-500 rounded-full transition-all duration-500" style="background-color: #f59e0b;"></div>
                                    </div>
                                </div>

                                <div class="wave-card cursor-pointer p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300" onclick="selectWave('alpha')">
                                    <div class="flex items-center justify-between mb-3">
                                        <div>
                                            <span class="text-base font-light text-white/80">Alpha Wave</span>
                                            <span class="text-xs text-white/40 ml-3">8-13 Hz</span>
                                        </div>
                                        <div class="text-xs text-white/30">Relaxed wakefulness</div>
                                    </div>
                                    <div class="h-1 bg-white/5 rounded-full overflow-hidden">
                                        <div class="h-full w-2/5 bg-emerald-500 rounded-full transition-all duration-500" style="background-color: #10b981;"></div>
                                    </div>
                                </div>

                                <div class="wave-card cursor-pointer p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300" onclick="selectWave('beta')">
                                    <div class="flex items-center justify-between mb-3">
                                        <div>
                                            <span class="text-base font-light text-white/80">Beta Wave</span>
                                            <span class="text-xs text-white/40 ml-3">13-30 Hz</span>
                                        </div>
                                        <div class="text-xs text-white/30">Active thinking</div>
                                    </div>
                                    <div class="h-1 bg-white/5 rounded-full overflow-hidden">
                                        <div class="h-full w-1/3 bg-blue-500 rounded-full transition-all duration-500" style="background-color: #3b82f6;"></div>
                                    </div>
                                </div>

                                <div class="wave-card cursor-pointer p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300" onclick="selectWave('gamma')">
                                    <div class="flex items-center justify-between mb-3">
                                        <div>
                                            <span class="text-base font-light text-white/80">Gamma Wave</span>
                                            <span class="text-xs text-white/40 ml-3">30-100 Hz</span>
                                        </div>
                                        <div class="text-xs text-white/30">Consciousness binding</div>
                                    </div>
                                    <div class="h-1 bg-white/5 rounded-full overflow-hidden">
                                        <div class="h-full w-1/5 bg-purple-500 rounded-full transition-all duration-500" style="background-color: #8b5cf6;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Live EEG visualization -->
                            <div class="sticky top-6">
                                <div class="relative rounded-2xl bg-white/[0.02] border border-white/5 p-6">
                                    <div class="flex justify-between items-center mb-6">
                                        <h3 class="text-sm font-light text-white/60">Live EEG Signal</h3>
                                        <button id="eeg-record-btn" onclick="toggleEEGRecording()" class="px-4 py-2 rounded-full text-xs font-light transition-all duration-300 bg-white/5 text-white/60 border border-white/10 hover:bg-white/10">
                                            ● Start Recording
                                        </button>
                                    </div>

                                    <div class="space-y-2 mb-6" id="eeg-channels">
                                        <div class="h-12 rounded bg-black/40 overflow-hidden border border-white/10">
                                            <canvas class="w-full h-full eeg-channel" data-channel="1"></canvas>
                                        </div>
                                        <div class="h-12 rounded bg-black/40 overflow-hidden border border-white/10">
                                            <canvas class="w-full h-full eeg-channel" data-channel="2"></canvas>
                                        </div>
                                        <div class="h-12 rounded bg-black/40 overflow-hidden border border-white/10">
                                            <canvas class="w-full h-full eeg-channel" data-channel="3"></canvas>
                                        </div>
                                        <div class="h-12 rounded bg-black/40 overflow-hidden border border-white/10">
                                            <canvas class="w-full h-full eeg-channel" data-channel="4"></canvas>
                                        </div>
                                    </div>

                                    <!-- Stats -->
                                    <div class="grid grid-cols-3 gap-4">
                                        <div class="text-center">
                                            <div class="text-xs text-white/40">Amplitude</div>
                                            <div class="text-sm text-white/60">±50 µV</div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-xs text-white/40">Sampling</div>
                                            <div class="text-sm text-white/60">256 Hz</div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-xs text-white/40">Quality</div>
                                            <div class="text-sm text-white/60" id="eeg-quality">0%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Detection View -->
                <div class="science-view" id="detection-view" style="display: none;">
                    <div class="max-w-5xl mx-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="detector-card relative p-8 rounded-2xl cursor-pointer transition-all duration-300 bg-white/[0.01] border border-white/5 hover:bg-white/[0.02]" onclick="selectDetector('spindles')">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="p-3 rounded-xl bg-white/5 text-white/40">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                        </svg>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-2xl font-extralight text-white/80">94%</div>
                                        <div class="text-xs text-white/30">accuracy</div>
                                    </div>
                                </div>
                                <h3 class="text-base font-light text-white/70 mb-2">Sleep Spindles</h3>
                                <p class="text-xs text-white/40 mb-4">12-14 Hz bursts lasting 0.5-2 seconds</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-white/50">Detections tonight:</span>
                                    <span class="text-sm text-white/70">127</span>
                                </div>
                            </div>

                            <div class="detector-card relative p-8 rounded-2xl cursor-pointer transition-all duration-300 bg-white/[0.01] border border-white/5 hover:bg-white/[0.02]" onclick="selectDetector('kcomplexes')">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="p-3 rounded-xl bg-white/5 text-white/40">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                        </svg>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-2xl font-extralight text-white/80">89%</div>
                                        <div class="text-xs text-white/30">accuracy</div>
                                    </div>
                                </div>
                                <h3 class="text-base font-light text-white/70 mb-2">K-Complexes</h3>
                                <p class="text-xs text-white/40 mb-4">Large biphasic waves in N2 sleep</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-white/50">Detections tonight:</span>
                                    <span class="text-sm text-white/70">43</span>
                                </div>
                            </div>

                            <div class="detector-card relative p-8 rounded-2xl cursor-pointer transition-all duration-300 bg-white/[0.01] border border-white/5 hover:bg-white/[0.02]" onclick="selectDetector('slowwaves')">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="p-3 rounded-xl bg-white/5 text-white/40">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                        </svg>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-2xl font-extralight text-white/80">92%</div>
                                        <div class="text-xs text-white/30">accuracy</div>
                                    </div>
                                </div>
                                <h3 class="text-base font-light text-white/70 mb-2">Slow Waves</h3>
                                <p class="text-xs text-white/40 mb-4">Delta waves characteristic of N3</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-white/50">Detections tonight:</span>
                                    <span class="text-sm text-white/70">89</span>
                                </div>
                            </div>

                            <div class="detector-card relative p-8 rounded-2xl cursor-pointer transition-all duration-300 bg-white/[0.01] border border-white/5 hover:bg-white/[0.02]" onclick="selectDetector('rem')">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="p-3 rounded-xl bg-white/5 text-white/40">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-2xl font-extralight text-white/80">87%</div>
                                        <div class="text-xs text-white/30">accuracy</div>
                                    </div>
                                </div>
                                <h3 class="text-base font-light text-white/70 mb-2">REM Detection</h3>
                                <p class="text-xs text-white/40 mb-4">Rapid eye movements with theta</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-white/50">Detections tonight:</span>
                                    <span class="text-sm text-white/70">31</span>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 p-6 rounded-2xl bg-white/[0.02] border border-white/5 hidden" id="detection-visualization">
                            <div class="h-32 rounded-xl bg-black/40 flex items-center justify-center">
                                <p class="text-xs text-white/30">Detection visualization running...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processing View -->
                <div class="science-view" id="processing-view" style="display: none;">
                    <div class="max-w-4xl mx-auto">
                        <div class="relative" id="processing-pipeline">
                            <div class="space-y-4" id="pipeline-steps">
                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="0" onclick="selectPipelineStep(0)">
                                    <div class="absolute left-10 top-20 w-0.5 h-12 bg-gradient-to-b from-white/10 to-transparent"></div>
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Signal Acquisition</h3>
                                            <p class="text-xs text-white/40">4-channel EEG at 256 Hz</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>

                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="1" onclick="selectPipelineStep(1)">
                                    <div class="absolute left-10 top-20 w-0.5 h-12 bg-gradient-to-b from-white/10 to-transparent"></div>
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Preprocessing</h3>
                                            <p class="text-xs text-white/40">Bandpass filter 0.5-45 Hz</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>

                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="2" onclick="selectPipelineStep(2)">
                                    <div class="absolute left-10 top-20 w-0.5 h-12 bg-gradient-to-b from-white/10 to-transparent"></div>
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Artifact Rejection</h3>
                                            <p class="text-xs text-white/40">ICA-based cleaning</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>

                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="3" onclick="selectPipelineStep(3)">
                                    <div class="absolute left-10 top-20 w-0.5 h-12 bg-gradient-to-b from-white/10 to-transparent"></div>
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Feature Extraction</h3>
                                            <p class="text-xs text-white/40">Wavelet decomposition</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>

                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="4" onclick="selectPipelineStep(4)">
                                    <div class="absolute left-10 top-20 w-0.5 h-12 bg-gradient-to-b from-white/10 to-transparent"></div>
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Classification</h3>
                                            <p class="text-xs text-white/40">CNN-based staging</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>

                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="5" onclick="selectPipelineStep(5)">
                                    <div class="absolute left-10 top-20 w-0.5 h-12 bg-gradient-to-b from-white/10 to-transparent"></div>
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Event Detection</h3>
                                            <p class="text-xs text-white/40">Template matching</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>

                                <div class="pipeline-step relative mb-4 cursor-pointer" data-step="6" onclick="selectPipelineStep(6)">
                                    <div class="flex items-center gap-6 p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:translate-x-1 transition-all duration-300">
                                        <div class="p-3 rounded-xl bg-white/5 text-white/30">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="text-sm font-light text-white/80 mb-1">Embedding</h3>
                                            <p class="text-xs text-white/40">Latent space mapping</p>
                                        </div>
                                        <div class="w-2 h-2 rounded-full bg-white/20 transition-all duration-300"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Processing stats -->
                        <div class="mt-8 grid grid-cols-3 gap-4">
                            <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                <div class="text-2xl font-extralight text-white/60">2.4ms</div>
                                <div class="text-xs text-white/30">Latency</div>
                            </div>
                            <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                <div class="text-2xl font-extralight text-white/60">98.2%</div>
                                <div class="text-xs text-white/30">Uptime</div>
                            </div>
                            <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                                <div class="text-2xl font-extralight text-white/60">0.01%</div>
                                <div class="text-xs text-white/30">Error Rate</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Research Papers View -->
                <div class="science-view" id="research-view" style="display: none;">
                    <div class="max-w-5xl mx-auto">
                        <div class="space-y-4">
                            <div class="research-paper relative p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300 cursor-pointer" onclick="togglePaper(this)">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex-1">
                                        <h3 class="text-base font-light text-white/80 mb-1">Contrastive Learning for Sleep EEG Embeddings</h3>
                                        <p class="text-xs text-white/40">Zhang, Smith, Johnson · 2024</p>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xl font-extralight text-white/60">127</div>
                                        <div class="text-xs text-white/30">citations</div>
                                    </div>
                                </div>

                                <div class="flex gap-2 flex-wrap mb-4">
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Machine Learning</span>
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">EEG</span>
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Contrastive Learning</span>
                                </div>

                                <div class="paper-abstract hidden">
                                    <p class="text-sm text-white/50 leading-relaxed mb-4">We present a novel approach to creating meaningful embeddings from sleep EEG data using contrastive learning techniques. Our method achieves state-of-the-art performance in sleep stage classification while preserving interpretable representations of neural dynamics.</p>
                                    <button class="px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-xs font-light">
                                        Read Full Paper →
                                    </button>
                                </div>
                            </div>

                            <div class="research-paper relative p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300 cursor-pointer" onclick="togglePaper(this)">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex-1">
                                        <h3 class="text-base font-light text-white/80 mb-1">Real-time Dream Content Prediction from Neural Signals</h3>
                                        <p class="text-xs text-white/40">Lee, Chen, Williams · 2024</p>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xl font-extralight text-white/60">89</div>
                                        <div class="text-xs text-white/30">citations</div>
                                    </div>
                                </div>

                                <div class="flex gap-2 flex-wrap mb-4">
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Transformers</span>
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Dream Analysis</span>
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Real-time</span>
                                </div>

                                <div class="paper-abstract hidden">
                                    <p class="text-sm text-white/50 leading-relaxed mb-4">Using transformer architectures, we demonstrate the feasibility of predicting dream themes from neural activity patterns during REM sleep. Our approach raises important questions about the privacy and ethics of dream decoding technology.</p>
                                    <button class="px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-xs font-light">
                                        Read Full Paper →
                                    </button>
                                </div>
                            </div>

                            <div class="research-paper relative p-6 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all duration-300 cursor-pointer" onclick="togglePaper(this)">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex-1">
                                        <h3 class="text-base font-light text-white/80 mb-1">Privacy-Preserving Neural Interfaces for Sleep</h3>
                                        <p class="text-xs text-white/40">Kumar, Anderson, Thompson · 2024</p>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-xl font-extralight text-white/60">203</div>
                                        <div class="text-xs text-white/30">citations</div>
                                    </div>
                                </div>

                                <div class="flex gap-2 flex-wrap mb-4">
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Privacy</span>
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Federated Learning</span>
                                    <span class="px-2 py-1 rounded-full bg-white/[0.03] border border-white/5 text-xs text-white/40">Neural Interfaces</span>
                                </div>

                                <div class="paper-abstract hidden">
                                    <p class="text-sm text-white/50 leading-relaxed mb-4">We propose a federated learning approach for sleep stage classification that maintains user privacy while enabling collaborative model improvement. Our framework ensures that sensitive sleep data never leaves the user's device.</p>
                                    <button class="px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-xs font-light">
                                        Read Full Paper →
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Concepts Section -->
    <section class="section" id="concepts">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Core Concepts</div>
                <h2 class="section-heading">Six Pillars of Dream Technology</h2>
            </div>

            <div class="max-w-6xl mx-auto">
                <!-- Concept carousel -->
                <div class="relative h-[500px] mb-12" id="concept-carousel">
                    <div class="concept-slide active" data-concept="0">
                        <div class="h-full flex items-center">
                            <div class="flex-1 pr-12">
                                <div class="text-6xl mb-6 opacity-20">🎯</div>
                                <h3 class="text-2xl font-light" style="color: rgba(255,255,255,0.9); margin-bottom: 0.75rem;">Dream Anchoring</h3>
                                <p class="text-base" style="color: rgba(255,255,255,0.5); margin-bottom: 1rem;">Micro-prompts during REM enhance recall without disruption</p>
                                <p class="text-sm" style="color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 1.5rem;">
                                    Using haptic feedback synchronized with REM detection, we deliver subtle prompts that create memory anchors. These anchors dramatically improve morning recall without affecting sleep quality.
                                </p>

                                <!-- Stats -->
                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">87%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Recall</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">3%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Disruption</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">92%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Accuracy</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Visual representation */
                            <div class="w-96 h-96 relative">
                                <div class="concept-visual">
                                    <div class="w-full h-full rounded-2xl bg-white/[0.01] border border-white/5 flex items-center justify-center">
                                        <div class="text-8xl opacity-10">🎯</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-slide" data-concept="1">
                        <div class="h-full flex items-center">
                            <div class="flex-1 pr-12">
                                <div class="text-6xl mb-6 opacity-20">🗺️</div>
                                <h3 class="text-2xl font-light" style="color: rgba(255,255,255,0.9); margin-bottom: 0.75rem;">Latent Mapping</h3>
                                <p class="text-base" style="color: rgba(255,255,255,0.5); margin-bottom: 1rem;">Multi-modal embeddings create navigable dream spaces</p>
                                <p class="text-sm" style="color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 1.5rem;">
                                    Dreams are encoded into high-dimensional vectors using contrastive learning. Similar experiences cluster naturally, revealing patterns invisible to conscious analysis.
                                </p>

                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">512</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Dimensions</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">47</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Clusters</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">0.94</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Similarity</div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-96 h-96 relative">
                                <div class="concept-visual">
                                    <div class="w-full h-full rounded-2xl bg-white/[0.01] border border-white/5 flex items-center justify-center">
                                        <div class="text-8xl opacity-10">🗺️</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-slide" data-concept="2">
                        <div class="h-full flex items-center">
                            <div class="flex-1 pr-12">
                                <div class="text-6xl mb-6 opacity-20">🔮</div>
                                <h3 class="text-2xl font-light" style="color: rgba(255,255,255,0.9); margin-bottom: 0.75rem;">Pattern Discovery</h3>
                                <p class="text-base" style="color: rgba(255,255,255,0.5); margin-bottom: 1rem;">Recurring themes emerge from the data</p>
                                <p class="text-sm" style="color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 1.5rem;">
                                    Machine learning identifies recurring motifs, emotional signatures, and narrative structures across multiple nights, providing insights into subconscious processing.
                                </p>

                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">23</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Patterns</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">89%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Confidence</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">156</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Insights</div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-96 h-96 relative">
                                <div class="concept-visual">
                                    <div class="w-full h-full rounded-2xl bg-white/[0.01] border border-white/5 flex items-center justify-center">
                                        <div class="text-8xl opacity-10">🔮</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-slide" data-concept="3">
                        <div class="h-full flex items-center">
                            <div class="flex-1 pr-12">
                                <div class="text-6xl mb-6 opacity-20">☀️</div>
                                <h3 class="text-2xl font-light" style="color: rgba(255,255,255,0.9); margin-bottom: 0.75rem;">Morning Ritual</h3>
                                <p class="text-base" style="color: rgba(255,255,255,0.5); margin-bottom: 1rem;">Transform fragments into actionable insights</p>
                                <p class="text-sm" style="color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 1.5rem;">
                                    The interface guides users through voice-first recall, semantic search, and pattern analysis, transforming fleeting memories into concrete understanding.
                                </p>

                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">94%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Capture</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">78%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Analysis</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">31</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Actions</div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-96 h-96 relative">
                                <div class="concept-visual">
                                    <div class="w-full h-full rounded-2xl bg-white/[0.01] border border-white/5 flex items-center justify-center">
                                        <div class="text-8xl opacity-10">☀️</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-slide" data-concept="4">
                        <div class="h-full flex items-center">
                            <div class="flex-1 pr-12">
                                <div class="text-6xl mb-6 opacity-20">🔒</div>
                                <h3 class="text-2xl font-light" style="color: rgba(255,255,255,0.9); margin-bottom: 0.75rem;">Privacy Shield</h3>
                                <p class="text-base" style="color: rgba(255,255,255,0.5); margin-bottom: 1rem;">Your dreams never leave your device</p>
                                <p class="text-sm" style="color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 1.5rem;">
                                    All processing happens locally using edge computing. No dream data is ever transmitted to servers. You maintain complete sovereignty over your subconscious.
                                </p>

                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">100%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Local</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">100%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Encrypted</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">0%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Cloud</div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-96 h-96 relative">
                                <div class="concept-visual">
                                    <div class="w-full h-full rounded-2xl bg-white/[0.01] border border-white/5 flex items-center justify-center">
                                        <div class="text-8xl opacity-10">🔒</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-slide" data-concept="5">
                        <div class="h-full flex items-center">
                            <div class="flex-1 pr-12">
                                <div class="text-6xl mb-6 opacity-20">🧬</div>
                                <h3 class="text-2xl font-light" style="color: rgba(255,255,255,0.9); margin-bottom: 0.75rem;">Adaptive Learning</h3>
                                <p class="text-base" style="color: rgba(255,255,255,0.5); margin-bottom: 1rem;">The system learns your unique patterns</p>
                                <p class="text-sm" style="color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 1.5rem;">
                                    Personal models adapt to your specific sleep architecture, dream patterns, and recall preferences, becoming more accurate over time.
                                </p>

                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">83%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Adaptation</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">91%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Personalization</div>
                                    </div>
                                    <div class="text-center p-3 rounded-xl bg-white/[0.02] border border-white/5">
                                        <div class="text-xl font-extralight" style="color: rgba(255,255,255,0.7);">27%</div>
                                        <div class="text-xs" style="color: rgba(255,255,255,0.3);">Improvement</div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-96 h-96 relative">
                                <div class="concept-visual">
                                    <div class="w-full h-full rounded-2xl bg-white/[0.01] border border-white/5 flex items-center justify-center">
                                        <div class="text-8xl opacity-10">🧬</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation dots -->
                <div class="flex justify-center gap-2" id="concept-dots">
                    <button class="concept-dot active" data-concept="0" onclick="goToConcept(0)"></button>
                    <button class="concept-dot" data-concept="1" onclick="goToConcept(1)"></button>
                    <button class="concept-dot" data-concept="2" onclick="goToConcept(2)"></button>
                    <button class="concept-dot" data-concept="3" onclick="goToConcept(3)"></button>
                    <button class="concept-dot" data-concept="4" onclick="goToConcept(4)"></button>
                    <button class="concept-dot" data-concept="5" onclick="goToConcept(5)"></button>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Architecture Section -->
    <section class="section" id="architecture">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Architecture</div>
                <h2 class="section-heading">System Design & Data Flow</h2>
            </div>

            <div class="max-w-6xl mx-auto">
                <!-- Toggle data flow animation -->
                <div class="flex justify-center mb-8">
                    <button id="data-flow-toggle" class="px-6 py-3 rounded-full text-sm font-light transition-all duration-300 bg-white/[0.02] text-white/60 border border-white/10 hover:bg-white/10" onclick="toggleDataFlow()">
                        Show Data Flow
                    </button>
                </div>

                <!-- Architecture layers -->
                <div class="relative" id="architecture-layers">
                    <!-- Animated data flow lines (will be added dynamically) -->
                    <div id="data-flow-lines" class="absolute inset-0 pointer-events-none hidden">
                        <div class="absolute left-1/2 w-0.5 bg-gradient-to-b from-transparent via-white/20 to-transparent animate-pulse" style="height: 25%; top: 0%; animation-delay: 0s;"></div>
                        <div class="absolute left-1/2 w-0.5 bg-gradient-to-b from-transparent via-white/20 to-transparent animate-pulse" style="height: 25%; top: 25%; animation-delay: 0.3s;"></div>
                        <div class="absolute left-1/2 w-0.5 bg-gradient-to-b from-transparent via-white/20 to-transparent animate-pulse" style="height: 25%; top: 50%; animation-delay: 0.6s;"></div>
                        <div class="absolute left-1/2 w-0.5 bg-gradient-to-b from-transparent via-white/20 to-transparent animate-pulse" style="height: 25%; top: 75%; animation-delay: 0.9s;"></div>
                    </div>

                    <!-- Hardware Layer -->
                    <div class="architecture-layer mb-8 cursor-pointer" data-layer="hardware" onclick="toggleLayer(this)">
                        <div class="absolute inset-0 rounded-2xl transition-opacity duration-300 bg-gradient-to-r from-blue-500/20 to-transparent opacity-50"></div>
                        <div class="relative p-8">
                            <h3 class="text-lg font-light text-white/80 mb-6">Hardware Layer</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">4-ch EEG Headband</div>
                                    <div class="text-xs text-white/40">Dry electrodes, 256 Hz sampling</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">9-DOF IMU</div>
                                    <div class="text-xs text-white/40">Head movement & position tracking</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Haptic Motors</div>
                                    <div class="text-xs text-white/40">Gentle prompts during REM</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">BLE 5.0</div>
                                    <div class="text-xs text-white/40">Low-energy wireless protocol</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Edge Computing Layer -->
                    <div class="architecture-layer mb-8 cursor-pointer" data-layer="edge" onclick="toggleLayer(this)">
                        <div class="absolute inset-0 rounded-2xl transition-opacity duration-300 bg-gradient-to-r from-purple-500/20 to-transparent opacity-50"></div>
                        <div class="relative p-8">
                            <h3 class="text-lg font-light text-white/80 mb-6">Edge Computing</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">DSP Processor</div>
                                    <div class="text-xs text-white/40">Real-time signal processing</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Neural Engine</div>
                                    <div class="text-xs text-white/40">On-device ML inference</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Secure Enclave</div>
                                    <div class="text-xs text-white/40">Encrypted data storage</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Power Management</div>
                                    <div class="text-xs text-white/40">8+ hour battery life</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Processing Layer -->
                    <div class="architecture-layer mb-8 cursor-pointer" data-layer="ai" onclick="toggleLayer(this)">
                        <div class="absolute inset-0 rounded-2xl transition-opacity duration-300 bg-gradient-to-r from-pink-500/20 to-transparent opacity-50"></div>
                        <div class="relative p-8">
                            <h3 class="text-lg font-light text-white/80 mb-6">AI Processing</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Sleep Staging</div>
                                    <div class="text-xs text-white/40">5-stage classification CNN</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Event Detection</div>
                                    <div class="text-xs text-white/40">Spindles, K-complexes, REMs</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Dream Embeddings</div>
                                    <div class="text-xs text-white/40">512-dim latent vectors</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Pattern Mining</div>
                                    <div class="text-xs text-white/40">Clustering & motif discovery</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- User Interface Layer -->
                    <div class="architecture-layer mb-8 cursor-pointer" data-layer="interface" onclick="toggleLayer(this)">
                        <div class="absolute inset-0 rounded-2xl transition-opacity duration-300 bg-gradient-to-r from-green-500/20 to-transparent opacity-50"></div>
                        <div class="relative p-8">
                            <h3 class="text-lg font-light text-white/80 mb-6">User Interface</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Mobile App</div>
                                    <div class="text-xs text-white/40">iOS/Android native apps</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Voice Journal</div>
                                    <div class="text-xs text-white/40">Morning recall capture</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Dream Map</div>
                                    <div class="text-xs text-white/40">Interactive visualization</div>
                                </div>
                                <div class="p-4 rounded-xl bg-black/40 border border-white/10">
                                    <div class="text-sm font-light text-white/70 mb-1">Insights Engine</div>
                                    <div class="text-xs text-white/40">Personalized discoveries</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System metrics -->
                <div class="mt-12 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">2.4ms</div>
                        <div class="text-xs text-white/30">Total Latency</div>
                    </div>
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">4.2 KB/s</div>
                        <div class="text-xs text-white/30">Data Rate</div>
                    </div>
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">45mW</div>
                        <div class="text-xs text-white/30">Power Draw</div>
                    </div>
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">94.3%</div>
                        <div class="text-xs text-white/30">Accuracy</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Prototypes Section -->
    <section class="section" id="prototypes">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Interactive Demos</div>
                <h2 class="section-heading">Experience the Interface</h2>
            </div>

            <!-- Prototype selector -->
            <div class="flex gap-2 justify-center mb-12 flex-wrap" id="prototype-nav">
                <button class="prototype-tab active" data-prototype="explorer" onclick="showPrototype('explorer')">
                    <span class="prototype-icon">✨</span>
                    <span>Dream Explorer</span>
                </button>
                <button class="prototype-tab" data-prototype="timeline" onclick="showPrototype('timeline')">
                    <span class="prototype-icon">⏰</span>
                    <span>Sleep Timeline</span>
                </button>
                <button class="prototype-tab" data-prototype="patterns" onclick="showPrototype('patterns')">
                    <span class="prototype-icon">📊</span>
                    <span>Pattern Analysis</span>
                </button>
                <button class="prototype-tab" data-prototype="voice" onclick="showPrototype('voice')">
                    <span class="prototype-icon">🎤</span>
                    <span>Voice Capture</span>
                </button>
            </div>

            <div class="max-w-5xl mx-auto">
                <!-- Dream Explorer Prototype -->
                <div class="prototype-content active" id="explorer-proto">
                    <div id="dream-explorer" class="relative h-[600px] rounded-2xl bg-black border border-white/5 overflow-hidden cursor-crosshair" onclick="addDreamFragment(event)">
                        <!-- Grid background -->
                        <div class="absolute inset-0 opacity-[0.02]" style="background-image: linear-gradient(0deg, rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 50px 50px;"></div>

                        <!-- Connection lines SVG -->
                        <svg class="absolute inset-0 w-full h-full pointer-events-none" id="dream-connections">
                            <!-- Connections will be drawn here dynamically -->
                        </svg>

                        <!-- Empty state -->
                        <div class="absolute inset-0 flex items-center justify-center" id="explorer-empty-state">
                            <div class="text-center">
                                <div class="text-6xl mb-4 opacity-10">✨</div>
                                <p class="text-base text-white/20 font-light">Click to add dream fragments</p>
                                <p class="text-sm text-white/15 mt-2">Nearby fragments will connect automatically</p>
                            </div>
                        </div>

                        <!-- Dream fragments container -->
                        <div id="dream-fragments"></div>

                        <!-- Selected fragment details -->
                        <div class="absolute bottom-6 left-6 right-6 p-6 rounded-xl bg-black/90 backdrop-blur-xl border border-white/10 hidden" id="fragment-details">
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-2xl" id="fragment-symbol">💭</span>
                                        <div>
                                            <div class="text-sm font-light text-white/80 capitalize" id="fragment-type">memory</div>
                                            <div class="text-xs text-white/40" id="fragment-intensity">Intensity: 75%</div>
                                        </div>
                                    </div>
                                    <div class="text-xs text-white/30 mt-2" id="fragment-connections">Connected to 0 other elements</div>
                                </div>
                                <button onclick="closeFragmentDetails()" class="text-white/40 hover:text-white/60 text-xl">×</button>
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="flex justify-center gap-4 mt-6">
                        <button onclick="clearDreamscape()" class="px-6 py-3 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-sm font-light">
                            Clear Map
                        </button>
                        <button class="px-6 py-3 rounded-full bg-gradient-to-r from-purple-600/20 to-pink-600/20 hover:from-purple-600/30 hover:to-pink-600/30 transition-colors text-sm font-light">
                            Analyze Patterns
                        </button>
                        <button class="px-6 py-3 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-sm font-light">
                            Save Session
                        </button>
                    </div>
                </div>

                <!-- Sleep Timeline Prototype -->
                <div class="prototype-content" id="timeline-proto" style="display: none;">
                    <!-- Legend -->
                    <div class="flex justify-center gap-6 mb-6">
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-blue-500/50"></div>
                            <span class="text-xs text-white/40 uppercase">wake</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-purple-500/50"></div>
                            <span class="text-xs text-white/40 uppercase">n1</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-indigo-500/50"></div>
                            <span class="text-xs text-white/40 uppercase">n2</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-pink-500/50"></div>
                            <span class="text-xs text-white/40 uppercase">n3</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-orange-500/50"></div>
                            <span class="text-xs text-white/40 uppercase">rem</span>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div class="relative h-[400px] rounded-2xl bg-white/[0.02] border border-white/5 p-8">
                        <div class="h-full flex items-end justify-between gap-2" id="timeline-hours">
                            <!-- Hours will be generated dynamically -->
                        </div>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-4 gap-4 mt-6">
                        <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                            <div class="text-lg font-extralight text-white/70">7h 23m</div>
                            <div class="text-xs text-white/30">Total Sleep</div>
                        </div>
                        <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                            <div class="text-lg font-extralight text-white/70">92%</div>
                            <div class="text-xs text-white/30">Sleep Efficiency</div>
                        </div>
                        <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                            <div class="text-lg font-extralight text-white/70">5</div>
                            <div class="text-xs text-white/30">REM Cycles</div>
                        </div>
                        <div class="text-center p-4 rounded-xl bg-white/[0.02] border border-white/5">
                            <div class="text-lg font-extralight text-white/70">1h 45m</div>
                            <div class="text-xs text-white/30">Deep Sleep</div>
                        </div>
                    </div>
                </div>

                <!-- Pattern Analysis Prototype -->
                <div class="prototype-content" id="patterns-proto" style="display: none;">
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4" id="patterns-grid">
                        <!-- Patterns will be generated dynamically -->
                    </div>

                    <!-- Pattern visualization -->
                    <div class="p-6 rounded-2xl bg-white/[0.02] border border-white/5 mt-6 hidden" id="pattern-analysis">
                        <h3 class="text-sm font-light text-white/60 mb-4">Pattern Analysis</h3>
                        <div class="h-48 rounded-xl bg-black/40 flex items-center justify-center">
                            <p class="text-xs text-white/30">Pattern visualization will appear here</p>
                        </div>
                    </div>
                </div>

                <!-- Voice Capture Prototype -->
                <div class="prototype-content" id="voice-proto" style="display: none;">
                    <div class="max-w-2xl mx-auto">
                        <div class="relative p-12 rounded-2xl bg-white/[0.02] border border-white/5">
                            <!-- Recording button -->
                            <div class="flex justify-center mb-8">
                                <button id="voice-record-btn" onclick="toggleVoiceRecording()" class="relative group">
                                    <div class="w-32 h-32 rounded-full flex items-center justify-center transition-all duration-300 bg-white/5 border-2 border-white/20 hover:bg-white/10" id="voice-record-circle">
                                        <svg class="w-12 h-12 text-white/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                                        </svg>
                                    </div>
                                </button>
                            </div>

                            <p class="text-center text-sm text-white/40 mb-8" id="voice-status">
                                Tap to start recording
                            </p>

                            <!-- Transcript -->
                            <div class="p-6 rounded-xl bg-black/40 border border-white/10 hidden" id="voice-transcript">
                                <div class="text-xs text-white/40 mb-3">Transcript</div>
                                <p class="text-sm text-white/60 leading-relaxed" id="transcript-text"></p>

                                <!-- Extracted themes -->
                                <div class="mt-4 pt-4 border-t border-white/10">
                                    <div class="text-xs text-white/40 mb-3">Detected Themes</div>
                                    <div class="flex gap-2 flex-wrap" id="transcript-themes">
                                        <!-- Themes will be added dynamically -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Immersive Vision Section -->
    <section class="section" id="vision">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Speculative Futures</div>
                <h2 class="section-heading">Imagining Dream Technology</h2>
            </div>

            <div class="max-w-5xl mx-auto">
                <p class="text-center text-sm" style="color: rgba(255,255,255,0.4); margin-bottom: 3rem; max-width: 48rem; margin-left: auto; margin-right: auto;">
                    What if we could interface with our dreams? This design fiction explores possible
                    futures, ethical dilemmas, and the implications of consciousness technology.
                </p>

                <!-- Video placeholder -->
                <div class="relative" style="aspect-ratio: 16/9; border-radius: 20px; background: linear-gradient(135deg, rgba(124,58,237,0.05), rgba(236,72,153,0.05)); overflow: hidden; border: 1px solid var(--glass-border); margin-bottom: 3rem;">
                    <!-- Animated background -->
                    <div class="absolute inset-0" id="vision-particles"></div>

                    <div class="absolute inset-0 flex items-center justify-center">
                        <button class="btn btn-primary" onclick="trackInteraction(); playVisionVideo()" style="position: relative; z-index: 2;">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                                <polygon stroke-linecap="round" stroke-linejoin="round" stroke-width="2" points="5,3 19,12 5,21"/>
                            </svg>
                            <span>Play Vision</span>
                        </button>
                    </div>
                </div>

                <!-- Critical questions -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center">
                        <div class="text-3xl font-extralight" style="color: rgba(255,255,255,0.2); margin-bottom: 0.5rem;">What if?</div>
                        <div class="text-sm font-light" style="color: rgba(255,255,255,0.7); margin-bottom: 0.25rem;">Dreams become data</div>
                        <div class="text-xs" style="color: rgba(255,255,255,0.4);">How would society change if dreams were recordable?</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-extralight" style="color: rgba(255,255,255,0.2); margin-bottom: 0.5rem;">Who decides?</div>
                        <div class="text-sm font-light" style="color: rgba(255,255,255,0.7); margin-bottom: 0.25rem;">Ethical boundaries</div>
                        <div class="text-xs" style="color: rgba(255,255,255,0.4);">Who sets limits on consciousness exploration?</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-extralight" style="color: rgba(255,255,255,0.2); margin-bottom: 0.5rem;">What's lost?</div>
                        <div class="text-sm font-light" style="color: rgba(255,255,255,0.7); margin-bottom: 0.25rem;">The price of knowing</div>
                        <div class="text-xs" style="color: rgba(255,255,255,0.4);">Does understanding dreams diminish their power?</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Detailed App Experience Section -->
    <section class="section" id="app-experience">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Interface Speculation</div>
                <h2 class="section-heading">Imagining the Dream App</h2>
            </div>

            <div class="max-w-6xl mx-auto">
                <p class="text-center text-sm" style="color: rgba(255,255,255,0.4); margin-bottom: 3rem; max-width: 48rem; margin-left: auto; margin-right: auto;">
                    If dream technology existed, how would we interact with it? This conceptual interface
                    explores privacy-first design principles for consciousness data.
                </p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Phone mockup -->
                    <div class="lg:col-span-2">
                        <div class="relative mx-auto max-w-sm" id="phone-mockup" style="perspective: 1000px;">
                            <div class="relative rounded-3xl bg-gradient-to-b from-zinc-900 to-black p-2 shadow-2xl">
                                <div class="rounded-3xl bg-black overflow-hidden">
                                    <div class="h-[700px] relative">
                                        <!-- Status bar -->
                                        <div class="absolute top-0 left-0 right-0 h-12 bg-black/50 backdrop-blur-xl z-10 flex items-center justify-between px-6">
                                            <span class="text-xs text-white/40">9:41 AM</span>
                                            <div class="w-16 h-1 rounded-full bg-white/10"></div>
                                            <div class="flex gap-1">
                                                <div class="w-1 h-3 rounded-full bg-white/40"></div>
                                                <div class="w-1 h-3 rounded-full bg-white/40"></div>
                                                <div class="w-1 h-3 rounded-full bg-white/40"></div>
                                            </div>
                                        </div>

                                        <!-- Screen content -->
                                        <div class="app-screen active pt-12" id="dashboard-screen">
                                            <div class="h-full bg-gradient-to-b from-blue-500/20 to-black p-6">
                                                <div class="flex flex-col items-center justify-center h-full">
                                                    <div class="text-6xl mb-4 opacity-20">📊</div>
                                                    <h3 class="text-lg font-light text-white/80 mb-2">Dream Dashboard</h3>
                                                    <p class="text-sm text-white/40 text-center">Tonight's sleep architecture and dream patterns</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="app-screen pt-12" id="capture-screen" style="display: none;">
                                            <div class="h-full bg-gradient-to-b from-purple-500/20 to-black p-6">
                                                <div class="flex flex-col items-center justify-center h-full">
                                                    <div class="text-6xl mb-4 opacity-20">🎙️</div>
                                                    <h3 class="text-lg font-light text-white/80 mb-2">Morning Capture</h3>
                                                    <p class="text-sm text-white/40 text-center">Voice-first dream recall interface</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="app-screen pt-12" id="analysis-screen" style="display: none;">
                                            <div class="h-full bg-gradient-to-b from-pink-500/20 to-black p-6">
                                                <div class="flex flex-col items-center justify-center h-full">
                                                    <div class="text-6xl mb-4 opacity-20">🔬</div>
                                                    <h3 class="text-lg font-light text-white/80 mb-2">Pattern Analysis</h3>
                                                    <p class="text-sm text-white/40 text-center">Machine learning insights into dream themes</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="app-screen pt-12" id="insights-screen" style="display: none;">
                                            <div class="h-full bg-gradient-to-b from-green-500/20 to-black p-6">
                                                <div class="flex flex-col items-center justify-center h-full">
                                                    <div class="text-6xl mb-4 opacity-20">💡</div>
                                                    <h3 class="text-lg font-light text-white/80 mb-2">Personal Insights</h3>
                                                    <p class="text-sm text-white/40 text-center">Patterns unique to your consciousness</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="app-screen pt-12" id="settings-screen" style="display: none;">
                                            <div class="h-full bg-gradient-to-b from-gray-500/20 to-black p-6">
                                                <div class="flex flex-col items-center justify-center h-full">
                                                    <div class="text-6xl mb-4 opacity-20">⚙️</div>
                                                    <h3 class="text-lg font-light text-white/80 mb-2">Privacy Settings</h3>
                                                    <p class="text-sm text-white/40 text-center">Complete control over consciousness data</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Bottom navigation -->
                                        <div class="absolute bottom-0 left-0 right-0 h-20 bg-black/50 backdrop-blur-xl border-t border-white/10 flex items-center justify-around">
                                            <button class="app-nav-btn active" data-screen="dashboard" onclick="switchAppScreen('dashboard')">
                                                <span class="text-2xl transition-all duration-300">📊</span>
                                            </button>
                                            <button class="app-nav-btn" data-screen="capture" onclick="switchAppScreen('capture')">
                                                <span class="text-2xl transition-all duration-300 opacity-40">🎙️</span>
                                            </button>
                                            <button class="app-nav-btn" data-screen="analysis" onclick="switchAppScreen('analysis')">
                                                <span class="text-2xl transition-all duration-300 opacity-40">🔬</span>
                                            </button>
                                            <button class="app-nav-btn" data-screen="insights" onclick="switchAppScreen('insights')">
                                                <span class="text-2xl transition-all duration-300 opacity-40">💡</span>
                                            </button>
                                            <button class="app-nav-btn" data-screen="settings" onclick="switchAppScreen('settings')">
                                                <span class="text-2xl transition-all duration-300 opacity-40">⚙️</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Design principles -->
                    <div class="space-y-4">
                        <h3 class="text-sm font-light text-white/40 mb-6">Design Principles</h3>
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors">
                            <div class="p-2 rounded-lg bg-white/5 text-white/40">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="text-sm text-white/70">Local First</div>
                                <div class="text-xs text-white/30">All processing on-device</div>
                            </div>
                        </div>

                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors">
                            <div class="p-2 rounded-lg bg-white/5 text-white/40">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="text-sm text-white/70">No Cloud</div>
                                <div class="text-xs text-white/30">Dreams never leave your device</div>
                            </div>
                        </div>

                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors">
                            <div class="p-2 rounded-lg bg-white/5 text-white/40">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="text-sm text-white/70">Encrypted</div>
                                <div class="text-xs text-white/30">Quantum-resistant encryption</div>
                            </div>
                        </div>

                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors">
                            <div class="p-2 rounded-lg bg-white/5 text-white/40">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="text-sm text-white/70">Adaptive</div>
                                <div class="text-xs text-white/30">Learns your unique patterns</div>
                            </div>
                        </div>

                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors">
                            <div class="p-2 rounded-lg bg-white/5 text-white/40">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="text-sm text-white/70">Real-time</div>
                                <div class="text-xs text-white/30">Processes while you sleep</div>
                            </div>
                        </div>

                        <div class="flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors">
                            <div class="p-2 rounded-lg bg-white/5 text-white/40">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="text-sm text-white/70">Ethical AI</div>
                                <div class="text-xs text-white/30">Transparent algorithms</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Conceptual features -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-12">
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">&lt;3ms</div>
                        <div class="text-xs text-white/30">Response Time</div>
                        <div class="text-xs text-white/20 mt-1">Theoretical latency</div>
                    </div>
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">0 KB</div>
                        <div class="text-xs text-white/30">Data Footprint</div>
                        <div class="text-xs text-white/20 mt-1">Cloud storage</div>
                    </div>
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">100%</div>
                        <div class="text-xs text-white/30">Privacy Score</div>
                        <div class="text-xs text-white/20 mt-1">Local processing</div>
                    </div>
                    <div class="text-center p-6 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/80 mb-1">Yes</div>
                        <div class="text-xs text-white/30">Open Source</div>
                        <div class="text-xs text-white/20 mt-1">Transparent code</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hardware Lab Section -->
    <section class="section" id="hardware">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Hardware Development</div>
                <h2 class="section-heading">Building the Dream Sensor</h2>
            </div>

            <div class="max-w-6xl mx-auto">
                <!-- Component selector -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12" id="component-selector">
                    <button class="component-btn active" data-component="eeg" onclick="switchComponent('eeg')">
                        <svg class="w-8 h-8 text-white/20 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                        </svg>
                        <div class="text-sm font-light text-white/70">EEG Sensors</div>
                    </button>
                    <button class="component-btn" data-component="imu" onclick="switchComponent('imu')">
                        <svg class="w-8 h-8 text-white/20 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                        </svg>
                        <div class="text-sm font-light text-white/70">IMU Module</div>
                    </button>
                    <button class="component-btn" data-component="mcu" onclick="switchComponent('mcu')">
                        <svg class="w-8 h-8 text-white/20 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                        </svg>
                        <div class="text-sm font-light text-white/70">Microcontroller</div>
                    </button>
                    <button class="component-btn" data-component="power" onclick="switchComponent('power')">
                        <svg class="w-8 h-8 text-white/20 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        <div class="text-sm font-light text-white/70">Power System</div>
                    </button>
                </div>

                <!-- Component details and code -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Specs and testing -->
                    <div class="space-y-6">
                        <div class="p-6 rounded-2xl bg-white/[0.02] border border-white/5" id="component-details">
                            <h3 class="text-base font-light text-white/70 mb-4" id="component-name">EEG Sensors</h3>
                            <p class="text-sm text-white/40 mb-4" id="component-desc">4-channel dry electrodes</p>
                            <div class="space-y-2" id="component-specs">
                                <div class="flex items-center gap-2">
                                    <div class="w-1 h-1 rounded-full bg-white/30"></div>
                                    <span class="text-xs text-white/50">Sampling: 256 Hz</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-1 h-1 rounded-full bg-white/30"></div>
                                    <span class="text-xs text-white/50">Resolution: 24-bit</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-1 h-1 rounded-full bg-white/30"></div>
                                    <span class="text-xs text-white/50">Impedance: &lt;5kΩ</span>
                                </div>
                            </div>
                        </div>

                        <!-- Test controls -->
                        <div class="p-6 rounded-2xl bg-white/[0.02] border border-white/5">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-sm font-light text-white/60">Component Testing</h3>
                                <button id="test-btn" onclick="toggleTesting()" class="px-4 py-2 rounded-full text-xs font-light transition-all bg-white/5 text-white/60 border border-white/10">
                                    Run Test
                                </button>
                            </div>
                            <div class="h-32 rounded-xl bg-black/40 flex items-center justify-center hidden" id="test-visualization">
                                <p class="text-xs text-white/30">Testing visualization would appear here</p>
                            </div>
                        </div>
                    </div>

                    <!-- Arduino code -->
                    <div class="p-6 rounded-2xl bg-black border border-white/5 overflow-hidden">
                        <div class="text-xs text-white/30 mb-4 font-mono">arduino_sleep_sensor.ino</div>
                        <pre class="text-xs text-white/40 font-mono leading-relaxed overflow-x-auto" id="arduino-code">
// EEG Sensors Implementation
#include &lt;ArduinoBLE.h&gt;
#include &lt;Wire.h&gt;
#include &lt;ADS1299.h&gt;

// Configuration
const int SAMPLE_RATE = 256;
const int CHANNELS = 4;
const int PACKET_SIZE = 20;

// BLE Service
BLEService sleepService("19B10000-E8F2-537E-4F6C-D104768A1214");
BLECharacteristic dataChar("19B10001-E8F2-537E-4F6C-D104768A1214",
  BLERead | BLENotify, PACKET_SIZE);

void setup() {
  Serial.begin(115200);

  // Initialize BLE
  if (!BLE.begin()) {
    Serial.println("BLE initialization failed!");
    while (1);
  }

  BLE.setLocalName("DreamSensor");
  BLE.setAdvertisedService(sleepService);
  sleepService.addCharacteristic(dataChar);
  BLE.addService(sleepService);
  BLE.advertise();

  // Initialize EEG
  ADS1299.begin();
  ADS1299.setSampleRate(SAMPLE_RATE);
  ADS1299.enableChannels(CHANNELS);
}

void loop() {
  BLEDevice central = BLE.central();

  if (central) {
    while (central.connected()) {
      // Read EEG data
      int16_t samples[CHANNELS];
      ADS1299.readChannels(samples);

      // Process and transmit
      processEEG(samples);
      dataChar.writeValue(samples, CHANNELS * 2);

      delay(1000 / SAMPLE_RATE);
    }
  }
}
                        </pre>
                    </div>
                </div>

                <!-- Lab photos placeholder -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                    <div class="aspect-[4/3] rounded-xl bg-white/[0.02] border border-white/5 flex items-center justify-center">
                        <div class="text-center">
                            <svg class="w-8 h-8 text-white/10 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            <p class="text-xs text-white/20">Bench Setup</p>
                        </div>
                    </div>
                    <div class="aspect-[4/3] rounded-xl bg-white/[0.02] border border-white/5 flex items-center justify-center">
                        <div class="text-center">
                            <svg class="w-8 h-8 text-white/10 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            <p class="text-xs text-white/20">Sensor Placement</p>
                        </div>
                    </div>
                    <div class="aspect-[4/3] rounded-xl bg-white/[0.02] border border-white/5 flex items-center justify-center">
                        <div class="text-center">
                            <svg class="w-8 h-8 text-white/10 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            <p class="text-xs text-white/20">Signal Quality Test</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dream Explorer Section -->
    <section class="section" id="dream-explorer">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Final Experience</div>
                <h2 class="section-heading">Your Personal Dreamscape</h2>
            </div>

            <div class="max-w-6xl mx-auto">
                <!-- Mode selector -->
                <div class="flex justify-center gap-2 mb-8">
                    <button class="explorer-mode-btn active" data-mode="explore" onclick="switchExplorerMode('explore')">
                        <span class="px-6 py-2 rounded-full text-sm font-light capitalize transition-all">explore</span>
                    </button>
                    <button class="explorer-mode-btn" data-mode="analyze" onclick="switchExplorerMode('analyze')">
                        <span class="px-6 py-2 rounded-full text-sm font-light capitalize transition-all">analyze</span>
                    </button>
                    <button class="explorer-mode-btn" data-mode="journal" onclick="switchExplorerMode('journal')">
                        <span class="px-6 py-2 rounded-full text-sm font-light capitalize transition-all">journal</span>
                    </button>
                </div>

                <!-- Main canvas -->
                <div id="dreamscape-canvas" class="relative h-[700px] rounded-2xl bg-black border border-white/5 overflow-hidden cursor-crosshair" onclick="addDreamNode(event)">
                    <!-- Gradient background -->
                    <div class="absolute inset-0 bg-gradient-to-br from-purple-900/5 via-transparent to-pink-900/5"></div>

                    <!-- Connection lines -->
                    <svg class="absolute inset-0 w-full h-full pointer-events-none" id="dreamscape-connections">
                        <!-- Connections will be drawn here dynamically -->
                    </svg>

                    <!-- Dream nodes container -->
                    <div id="dreamscape-nodes"></div>

                    <!-- Empty state -->
                    <div class="absolute inset-0 flex items-center justify-center" id="dreamscape-empty">
                        <div class="text-center">
                            <div class="text-8xl mb-4 opacity-10">✨</div>
                            <p class="text-base text-white/20 font-light">Click to begin mapping your dreams</p>
                            <p class="text-sm text-white/15 mt-2">Each node represents a dream element</p>
                        </div>
                    </div>

                    <!-- Selected node details -->
                    <div class="absolute bottom-6 left-6 right-6 p-6 rounded-xl bg-black/90 backdrop-blur-xl border border-white/10 hidden" id="dreamscape-details">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-2xl" id="selected-symbol">💭</span>
                                    <div>
                                        <div class="text-sm font-light text-white/80 capitalize" id="selected-type">memory</div>
                                        <div class="text-xs text-white/40" id="selected-intensity">Intensity: 75%</div>
                                    </div>
                                </div>
                                <div class="text-xs text-white/30 mt-2" id="selected-connections">Connected to 0 other elements</div>
                            </div>
                            <button onclick="closeDreamscapeDetails()" class="text-white/40 hover:text-white/60 text-xl">×</button>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="flex justify-center gap-4 mt-8">
                    <button onclick="clearDreamscape()" class="px-6 py-3 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-sm font-light">
                        Clear Dreamscape
                    </button>
                    <button onclick="generateInsights()" class="px-6 py-3 rounded-full bg-gradient-to-r from-purple-600/20 to-pink-600/20 hover:from-purple-600/30 hover:to-pink-600/30 transition-colors text-sm font-light">
                        Generate Insights
                    </button>
                    <button onclick="saveDreamscape()" class="px-6 py-3 rounded-full bg-white/5 hover:bg-white/10 transition-colors text-sm font-light">
                        Save & Export
                    </button>
                </div>

                <!-- Stats -->
                <div class="grid grid-cols-3 gap-4 mt-8 hidden" id="dreamscape-stats">
                    <div class="text-center p-4 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/60" id="stats-fragments">0</div>
                        <div class="text-xs text-white/30">Dream Fragments</div>
                    </div>
                    <div class="text-center p-4 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/60" id="stats-connections">0</div>
                        <div class="text-xs text-white/30">Connections</div>
                    </div>
                    <div class="text-center p-4 rounded-xl bg-white/[0.01] border border-white/5">
                        <div class="text-2xl font-extralight text-white/60" id="stats-intensity">0%</div>
                        <div class="text-xs text-white/30">Avg Intensity</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bot Script -->

    <script>
        // Theme will be handled by the standard theme.js file

        // Simple Navigation - No custom controls needed
        // Bot and theme are handled by separate systems

        // Micro Interactions Manager
        class MicroInteractions {
            constructor() {
                this.init();
            }

            init() {
                this.setupHoverEffects();
                this.setupClickEffects();
                this.setupScrollAnimations();
            }

            setupHoverEffects() {
                // Add hover ripple effect to buttons
                document.querySelectorAll('button, .btn, .card, .prototype-card').forEach(element => {
                    element.addEventListener('mouseenter', (e) => {
                        e.target.style.transform = 'translateY(-2px)';
                        e.target.style.transition = 'transform 0.2s ease';
                    });

                    element.addEventListener('mouseleave', (e) => {
                        e.target.style.transform = 'translateY(0)';
                    });
                });
            }

            setupClickEffects() {
                // Add click ripple effect
                document.addEventListener('click', (e) => {
                    if (e.target.matches('button, .btn, .card, .prototype-card')) {
                        this.createRipple(e);
                    }
                });
            }

            createRipple(e) {
                const ripple = document.createElement('span');
                const rect = e.target.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;

                ripple.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}px;
                    top: ${y}px;
                    background: rgba(255, 255, 255, 0.1);
                    border-radius: 50%;
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    pointer-events: none;
                    z-index: 1000;
                `;

                e.target.style.position = 'relative';
                e.target.style.overflow = 'hidden';
                e.target.appendChild(ripple);

                // Add ripple animation
                if (!document.head.querySelector('#ripple-animation')) {
                    const style = document.createElement('style');
                    style.id = 'ripple-animation';
                    style.textContent = `
                        @keyframes ripple {
                            to {
                                transform: scale(4);
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }

                setTimeout(() => {
                    ripple.remove();
                }, 600);
            }

            setupScrollAnimations() {
                // Parallax effect for background elements
                window.addEventListener('scroll', () => {
                    const scrolled = window.pageYOffset;
                    const parallax = document.querySelector('.bg-orbs');
                    if (parallax) {
                        parallax.style.transform = `translateY(${scrolled * 0.1}px)`;
                    }
                });
            }
        }

        // Global interaction tracking
        let globalInteractionCount = 0;

        function trackInteraction() {
            globalInteractionCount++;
            const counter = document.getElementById('interactionCount');
            const display = document.getElementById('interactionCounter');
            if (counter) counter.textContent = globalInteractionCount;
            if (display) display.classList.add('visible');
        }

        // Smooth scrolling
        function smoothScrollTo(targetId) {
            const target = document.getElementById(targetId);
            if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Dynamic background orbs that follow cursor
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;

            const orb1 = document.getElementById('orb1');
            if (orb1) {
                orb1.style.transform = `translate(${mouseX - 300}px, ${mouseY - 300}px)`;
            }
        });

        // Animate stats counters
        function animateCounter(element, target) {
            const start = 0;
            const duration = 2000;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = Math.floor(progress * target);
                element.textContent = current.toLocaleString();

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            requestAnimationFrame(update);
        }

        // Initialize counters when visible
        const observerOptions = {
            threshold: 0.5,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const statValue = entry.target.querySelector('.stat-value');
                    const target = parseInt(statValue.dataset.target);
                    animateCounter(statValue, target);
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.stat').forEach(stat => {
            observer.observe(stat);
        });

        // Demo placeholder
        function playDemo() {
            alert('Speculative demonstration would play here - exploring the ethical implications and design considerations of dream technology.');
        }

        // Vision video placeholder
        function playVisionVideo() {
            alert('Immersive vision experience would launch here - exploring the future of dream technology through speculative scenarios.');
        }

        // Metric selection
        function selectMetric(element, index) {
            document.querySelectorAll('.metric-card').forEach(card => {
                card.classList.remove('active');
            });
            element.classList.add('active');
            trackInteraction();
        }

        // Chapter toggling
        function toggleChapter(element) {
            const isExpanded = element.classList.contains('expanded');

            // Close all chapters
            document.querySelectorAll('.chapter-card').forEach(card => {
                card.classList.remove('expanded');
            });

            // Open clicked chapter if it wasn't already open
            if (!isExpanded) {
                element.classList.add('expanded');
            }

            trackInteraction();
        }

        // Science section navigation
        function switchScienceView(viewName) {
            // Update nav buttons
            document.querySelectorAll('.science-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-view="${viewName}"]`).classList.add('active');

            // Update views
            document.querySelectorAll('.science-view').forEach(view => {
                view.classList.remove('active');
                view.style.display = 'none';
            });

            const targetView = document.getElementById(`${viewName}-view`);
            if (targetView) {
                targetView.classList.add('active');
                targetView.style.display = 'block';
            }

            trackInteraction();
        }

        // Sleep stage management
        let sleepStages = {
            wake: 5,
            n1: 5,
            n2: 45,
            n3: 25,
            rem: 20
        };

        function updateSleepStage(stage, value) {
            sleepStages[stage] = parseInt(value);

            // Update display values
            document.getElementById(`${stage}-value`).textContent = `${value}%`;
            document.getElementById(`${stage}-percent`).textContent = `${value}%`;

            // Update hypnogram
            drawHypnogram();

            trackInteraction();
        }

        function selectStage(stage) {
            // Remove previous selection
            document.querySelectorAll('.stage-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked stage
            document.querySelector(`[data-stage="${stage}"]`).classList.add('selected');

            trackInteraction();
        }

        // Hypnogram visualization
        function drawHypnogram() {
            const canvas = document.getElementById('hypnogram-canvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            const width = canvas.offsetWidth;
            const height = canvas.offsetHeight;

            // Set canvas size
            canvas.width = width;
            canvas.height = height;

            // Clear canvas
            ctx.clearRect(0, 0, width, height);

            // Draw simplified hypnogram based on sleep stages
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();

            const stageHeight = {
                wake: height * 0.1,
                n1: height * 0.3,
                n2: height * 0.5,
                n3: height * 0.8,
                rem: height * 0.4
            };

            // Generate a night's worth of data
            const timePoints = 48; // 8 hours * 6 points per hour
            let currentStage = 'wake';

            for (let i = 0; i < timePoints; i++) {
                const x = (i / timePoints) * width;
                const progress = i / timePoints;

                // Simulate stage transitions based on percentages
                if (progress < 0.1) currentStage = 'wake';
                else if (progress < 0.2) currentStage = 'n1';
                else if (progress < 0.4) currentStage = 'n2';
                else if (progress < 0.6) currentStage = 'n3';
                else if (progress < 0.8) currentStage = 'n2';
                else currentStage = 'rem';

                const y = stageHeight[currentStage] + Math.random() * 10;

                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }

            ctx.stroke();
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            // Draw initial hypnogram
            setTimeout(drawHypnogram, 100);

            // Add fade in animation to elements as they come into view
            const fadeElements = document.querySelectorAll('.section');
            const fadeObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });

            fadeElements.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                fadeObserver.observe(el);
            });
        });

        // Redraw hypnogram on window resize
        window.addEventListener('resize', () => {
            setTimeout(drawHypnogram, 100);
        });

        // ========== Missing Interactive Functions ==========

        // Technical Architecture Section
        function toggleDataFlow() {
            const button = document.getElementById('data-flow-toggle');
            const lines = document.getElementById('data-flow-lines');

            if (lines.classList.contains('hidden')) {
                lines.classList.remove('hidden');
                button.textContent = 'Data Flowing';
                button.classList.add('bg-green-500/20', 'text-green-400', 'border-green-500/30');
                button.classList.remove('bg-white/[0.02]', 'text-white/60', 'border-white/10');
            } else {
                lines.classList.add('hidden');
                button.textContent = 'Show Data Flow';
                button.classList.remove('bg-green-500/20', 'text-green-400', 'border-green-500/30');
                button.classList.add('bg-white/[0.02]', 'text-white/60', 'border-white/10');
            }
            trackInteraction();
        }

        function toggleLayer(element) {
            // Remove selection from all layers
            document.querySelectorAll('.architecture-layer').forEach(layer => {
                layer.classList.remove('selected');
            });

            // Add selection to clicked layer
            element.classList.add('selected');
            trackInteraction();
        }

        // Live Prototypes Section
        function showPrototype(prototypeId) {
            // Update tabs
            document.querySelectorAll('.prototype-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-prototype="${prototypeId}"]`).classList.add('active');

            // Update content
            document.querySelectorAll('.prototype-content').forEach(content => {
                content.classList.remove('active');
                content.style.display = 'none';
            });

            const targetContent = document.getElementById(`${prototypeId}-proto`);
            if (targetContent) {
                targetContent.classList.add('active');
                targetContent.style.display = 'block';
            }

            // Initialize specific prototype if needed
            if (prototypeId === 'timeline') {
                initializeTimeline();
            } else if (prototypeId === 'patterns') {
                initializePatterns();
            }

            trackInteraction();
        }

        function addDreamFragment(event) {
            const container = document.getElementById('dream-explorer');
            const rect = container.getBoundingClientRect();
            const x = ((event.clientX - rect.left) / rect.width) * 100;
            const y = ((event.clientY - rect.top) / rect.height) * 100;

            const themes = ['Flying', 'Water', 'Lost', 'Chase', 'Fall', 'Test', 'Late', 'Home', 'Friend', 'Animal'];
            const symbols = ['💭', '🌊', '🏃', '🏠', '🌟', '👤', '🌙', '✨', '🔮', '🌈'];
            const colors = ['#8b5cf6', '#ec4899', '#22c55e', '#f59e0b', '#3b82f6'];

            const theme = themes[Math.floor(Math.random() * themes.length)];
            const symbol = symbols[Math.floor(Math.random() * symbols.length)];
            const color = colors[Math.floor(Math.random() * colors.length)];
            const size = Math.random() * 30 + 30;
            const intensity = Math.random();

            const fragmentsContainer = document.getElementById('dream-fragments');
            const fragment = document.createElement('div');
            fragment.className = 'dream-node';
            fragment.style.left = `${x}%`;
            fragment.style.top = `${y}%`;
            fragment.style.width = `${size}px`;
            fragment.style.height = `${size}px`;
            fragment.style.marginLeft = `-${size/2}px`;
            fragment.style.marginTop = `-${size/2}px`;
            fragment.onclick = (e) => {
                e.stopPropagation();
                selectDreamFragment(fragment, theme, symbol, intensity);
            };

            fragment.innerHTML = `
                <div class="dream-node-glow" style="background: radial-gradient(circle, ${color} 0%, transparent 70%);"></div>
                <div class="dream-node-core">${symbol}</div>
                <div class="dream-node-label">${theme}</div>
            `;

            fragmentsContainer.appendChild(fragment);

            // Hide empty state
            document.getElementById('explorer-empty-state').style.display = 'none';

            trackInteraction();
        }

        function selectDreamFragment(element, theme, symbol, intensity) {
            const details = document.getElementById('fragment-details');
            document.getElementById('fragment-symbol').textContent = symbol;
            document.getElementById('fragment-type').textContent = theme.toLowerCase();
            document.getElementById('fragment-intensity').textContent = `Intensity: ${Math.round(intensity * 100)}%`;

            details.classList.remove('hidden');
            trackInteraction();
        }

        function closeFragmentDetails() {
            document.getElementById('fragment-details').classList.add('hidden');
        }

        function clearDreamscape() {
            document.getElementById('dream-fragments').innerHTML = '';
            document.getElementById('explorer-empty-state').style.display = 'flex';
            document.getElementById('fragment-details').classList.add('hidden');
            trackInteraction();
        }

        function initializeTimeline() {
            const container = document.getElementById('timeline-hours');
            if (!container || container.children.length > 0) return;

            const stageColors = {
                wake: 'rgba(59, 130, 246, 0.5)',
                n1: 'rgba(168, 85, 247, 0.5)',
                n2: 'rgba(99, 102, 241, 0.5)',
                n3: 'rgba(236, 72, 153, 0.5)',
                rem: 'rgba(251, 146, 60, 0.5)',
            };

            for (let hour = 0; hour < 8; hour++) {
                const hourColumn = document.createElement('div');
                hourColumn.className = 'flex-1 h-full flex flex-col justify-end cursor-pointer';
                hourColumn.onclick = () => trackInteraction();

                for (let i = 0; i < 12; i++) {
                    const stages = ['wake', 'n1', 'n2', 'n3', 'rem'];
                    const stage = stages[Math.floor(Math.random() * stages.length)];
                    const segment = document.createElement('div');
                    segment.className = 'w-full';
                    segment.style.height = `${100 / 12}%`;
                    segment.style.backgroundColor = stageColors[stage];
                    segment.style.opacity = Math.random();
                    hourColumn.appendChild(segment);
                }

                const label = document.createElement('div');
                label.className = 'text-[10px] text-white/20 text-center mt-2';
                label.textContent = hour === 0 ? '11pm' : hour < 8 ? `${hour}am` : '7am';
                hourColumn.appendChild(label);

                container.appendChild(hourColumn);
            }
        }

        function initializePatterns() {
            const container = document.getElementById('patterns-grid');
            if (!container || container.children.length > 0) return;

            const patterns = [
                { name: "Water Dreams", frequency: 34, trend: "+12%", emotion: "calm" },
                { name: "Chase Sequences", frequency: 21, trend: "-5%", emotion: "anxious" },
                { name: "Flying", frequency: 18, trend: "+8%", emotion: "free" },
                { name: "Childhood Home", frequency: 15, trend: "0%", emotion: "nostalgic" },
                { name: "Lost Items", frequency: 12, trend: "+3%", emotion: "frustrated" },
                { name: "Public Speaking", frequency: 9, trend: "-2%", emotion: "nervous" },
            ];

            patterns.forEach((pattern, i) => {
                const card = document.createElement('div');
                card.className = 'relative p-6 rounded-2xl cursor-pointer transition-all duration-300 bg-white/[0.01] border border-white/5 hover:bg-white/[0.02]';
                card.onclick = () => {
                    document.getElementById('pattern-analysis').classList.remove('hidden');
                    trackInteraction();
                };

                card.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div class="text-2xl font-extralight text-white/70">${pattern.frequency}</div>
                        <div class="text-xs ${pattern.trend.startsWith('+') ? 'text-green-400/60' : pattern.trend.startsWith('-') ? 'text-red-400/60' : 'text-white/40'}">${pattern.trend}</div>
                    </div>
                    <div class="text-sm font-light text-white/60 mb-1">${pattern.name}</div>
                    <div class="text-xs text-white/30">Emotion: ${pattern.emotion}</div>
                `;

                container.appendChild(card);
            });
        }

        // Enhanced Science Section Functions
        function selectWave(waveId) {
            // Remove selection from all waves
            document.querySelectorAll('.wave-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked wave
            document.querySelector(`[onclick="selectWave('${waveId}')"]`).classList.add('selected');
            trackInteraction();
        }

        function toggleEEGRecording() {
            const button = document.getElementById('eeg-record-btn');
            const quality = document.getElementById('eeg-quality');

            if (button.textContent.includes('Start')) {
                button.textContent = '■ Stop Recording';
                button.classList.add('bg-red-500/20', 'text-red-400', 'border-red-500/30');
                button.classList.remove('bg-white/5', 'text-white/60', 'border-white/10');

                // Simulate quality improvement
                let qualityValue = 0;
                const interval = setInterval(() => {
                    qualityValue = Math.min(qualityValue + 1, 98);
                    quality.textContent = `${qualityValue}%`;
                    if (qualityValue >= 98) clearInterval(interval);
                }, 50);
            } else {
                button.textContent = '● Start Recording';
                button.classList.remove('bg-red-500/20', 'text-red-400', 'border-red-500/30');
                button.classList.add('bg-white/5', 'text-white/60', 'border-white/10');
                quality.textContent = '0%';
            }
            trackInteraction();
        }

        function selectDetector(detectorId) {
            // Remove selection from all detectors
            document.querySelectorAll('.detector-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked detector
            document.querySelector(`[onclick="selectDetector('${detectorId}')"]`).classList.add('selected');

            // Show visualization
            document.getElementById('detection-visualization').classList.remove('hidden');
            trackInteraction();
        }

        function selectPipelineStep(stepIndex) {
            // Remove selection from all steps
            document.querySelectorAll('.pipeline-step').forEach(step => {
                step.classList.remove('selected');
                step.querySelector('.w-2').classList.remove('bg-green-400', 'animate-pulse');
                step.querySelector('.w-2').classList.add('bg-white/20');
            });

            // Add selection to clicked step and all previous steps
            document.querySelectorAll('.pipeline-step').forEach((step, i) => {
                if (i <= stepIndex) {
                    step.classList.add('selected');
                    step.querySelector('.w-2').classList.remove('bg-white/20');
                    step.querySelector('.w-2').classList.add('bg-green-400', 'animate-pulse');
                }
            });

            trackInteraction();
        }

        function togglePaper(paperElement) {
            const abstract = paperElement.querySelector('.paper-abstract');
            const isExpanded = !abstract.classList.contains('hidden');

            // Close all papers
            document.querySelectorAll('.research-paper').forEach(paper => {
                paper.classList.remove('expanded');
                paper.querySelector('.paper-abstract').classList.add('hidden');
            });

            // Open clicked paper if it wasn't expanded
            if (!isExpanded) {
                paperElement.classList.add('expanded');
                abstract.classList.remove('hidden');
            }

            trackInteraction();
        }

        // App Experience Functions
        function switchAppScreen(screenId) {
            // Update navigation
            document.querySelectorAll('.app-nav-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.querySelector('span').style.opacity = '0.4';
                btn.querySelector('span').style.transform = 'scale(1)';
            });

            const activeBtn = document.querySelector(`[data-screen="${screenId}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
                activeBtn.querySelector('span').style.opacity = '1';
                activeBtn.querySelector('span').style.transform = 'scale(1.1)';
            }

            // Update screens
            document.querySelectorAll('.app-screen').forEach(screen => {
                screen.classList.remove('active');
                screen.style.display = 'none';
            });

            const targetScreen = document.getElementById(`${screenId}-screen`);
            if (targetScreen) {
                targetScreen.classList.add('active');
                targetScreen.style.display = 'block';
            }

            trackInteraction();
        }

        // Hardware Lab Functions
        function switchComponent(componentId) {
            // Update buttons
            document.querySelectorAll('.component-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-component="${componentId}"]`).classList.add('active');

            // Update component details
            const components = {
                eeg: { name: "EEG Sensors", desc: "4-channel dry electrodes", specs: ["Sampling: 256 Hz", "Resolution: 24-bit", "Impedance: <5kΩ"] },
                imu: { name: "IMU Module", desc: "9-DOF motion tracking", specs: ["Gyroscope: ±2000 dps", "Accelerometer: ±16g", "Magnetometer: ±4900 μT"] },
                mcu: { name: "Microcontroller", desc: "Nordic nRF52840", specs: ["ARM Cortex-M4", "256KB RAM", "1MB Flash"] },
                power: { name: "Power System", desc: "Li-Po with wireless charging", specs: ["Capacity: 250mAh", "Runtime: 8+ hours", "Charge: 1 hour"] }
            };

            const component = components[componentId];
            document.getElementById('component-name').textContent = component.name;
            document.getElementById('component-desc').textContent = component.desc;

            const specsContainer = document.getElementById('component-specs');
            specsContainer.innerHTML = component.specs.map(spec =>
                `<div class="flex items-center gap-2">
                    <div class="w-1 h-1 rounded-full bg-white/30"></div>
                    <span class="text-xs text-white/50">${spec}</span>
                </div>`
            ).join('');

            trackInteraction();
        }

        function toggleTesting() {
            const button = document.getElementById('test-btn');
            const visualization = document.getElementById('test-visualization');

            if (visualization.classList.contains('hidden')) {
                visualization.classList.remove('hidden');
                button.textContent = 'Stop Test';
                button.classList.add('bg-green-500/20', 'text-green-400', 'border-green-500/30');
                button.classList.remove('bg-white/5', 'text-white/60', 'border-white/10');
            } else {
                visualization.classList.add('hidden');
                button.textContent = 'Run Test';
                button.classList.remove('bg-green-500/20', 'text-green-400', 'border-green-500/30');
                button.classList.add('bg-white/5', 'text-white/60', 'border-white/10');
            }
            trackInteraction();
        }

        // Voice Capture Functions
        function toggleVoiceRecording() {
            const button = document.getElementById('voice-record-btn');
            const circle = document.getElementById('voice-record-circle');
            const status = document.getElementById('voice-status');
            const transcript = document.getElementById('voice-transcript');
            const transcriptText = document.getElementById('transcript-text');
            const themes = document.getElementById('transcript-themes');

            if (status.textContent.includes('Tap to start')) {
                // Start recording
                status.textContent = 'Listening... speak about your dream';
                circle.classList.add('bg-red-500/20', 'border-red-500/50');
                circle.classList.remove('bg-white/5', 'border-white/20');

                // Simulate transcript after 3 seconds
                setTimeout(() => {
                    transcriptText.textContent = "I was in my childhood home, but it wasn't quite right. The walls were a different color, and there was a door that led to an endless corridor...";
                    transcript.classList.remove('hidden');

                    // Add themes
                    themes.innerHTML = ['Childhood', 'Home', 'Doors', 'Infinite', 'Confusion'].map(theme =>
                        `<span class="px-3 py-1 rounded-full bg-white/[0.05] border border-white/10 text-xs text-white/50">${theme}</span>`
                    ).join('');
                }, 3000);
            } else {
                // Stop recording
                status.textContent = 'Tap to start recording';
                circle.classList.remove('bg-red-500/20', 'border-red-500/50');
                circle.classList.add('bg-white/5', 'border-white/20');
            }
            trackInteraction();
        }

        // Dream Explorer Functions
        function switchExplorerMode(mode) {
            // Update buttons
            document.querySelectorAll('.explorer-mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            trackInteraction();
        }

        function addDreamNode(event) {
            const canvas = document.getElementById('dreamscape-canvas');
            const nodes = document.getElementById('dreamscape-nodes');
            const rect = canvas.getBoundingClientRect();
            const x = ((event.clientX - rect.left) / rect.width) * 100;
            const y = ((event.clientY - rect.top) / rect.height) * 100;

            const dreamTypes = [
                { type: 'memory', color: 'rgba(139, 92, 246, 0.6)', symbol: '💭' },
                { type: 'emotion', color: 'rgba(236, 72, 153, 0.6)', symbol: '❤️' },
                { type: 'place', color: 'rgba(34, 197, 94, 0.6)', symbol: '🏠' },
                { type: 'person', color: 'rgba(251, 146, 60, 0.6)', symbol: '👤' },
                { type: 'symbol', color: 'rgba(14, 165, 233, 0.6)', symbol: '✨' },
            ];

            const dreamType = dreamTypes[Math.floor(Math.random() * dreamTypes.length)];
            const size = Math.random() * 40 + 30;
            const intensity = Math.random();

            const node = document.createElement('div');
            node.className = 'dream-node';
            node.style.left = `${x}%`;
            node.style.top = `${y}%`;
            node.style.width = `${size}px`;
            node.style.height = `${size}px`;
            node.style.marginLeft = `-${size/2}px`;
            node.style.marginTop = `-${size/2}px`;
            node.onclick = (e) => {
                e.stopPropagation();
                selectDreamscapeNode(dreamType, intensity);
            };

            node.innerHTML = `
                <div class="dream-node-glow" style="background: radial-gradient(circle, ${dreamType.color} 0%, transparent 70%);"></div>
                <div class="dream-node-core">${dreamType.symbol}</div>
            `;

            nodes.appendChild(node);

            // Hide empty state and show stats
            document.getElementById('dreamscape-empty').style.display = 'none';
            document.getElementById('dreamscape-stats').classList.remove('hidden');

            // Update stats
            updateDreamscapeStats();
            trackInteraction();
        }

        function selectDreamscapeNode(dreamType, intensity) {
            const details = document.getElementById('dreamscape-details');
            document.getElementById('selected-symbol').textContent = dreamType.symbol;
            document.getElementById('selected-type').textContent = dreamType.type;
            document.getElementById('selected-intensity').textContent = `Intensity: ${Math.round(intensity * 100)}%`;
            details.classList.remove('hidden');
        }

        function closeDreamscapeDetails() {
            document.getElementById('dreamscape-details').classList.add('hidden');
        }

        function updateDreamscapeStats() {
            const nodes = document.querySelectorAll('#dreamscape-nodes .dream-node');
            document.getElementById('stats-fragments').textContent = nodes.length;
            document.getElementById('stats-connections').textContent = Math.floor(nodes.length / 2);
            document.getElementById('stats-intensity').textContent = `${Math.round(Math.random() * 100)}%`;
        }

        function generateInsights() {
            alert('Analyzing dreamscape patterns... This would generate personalized insights about your dream themes and connections.');
            trackInteraction();
        }

        function saveDreamscape() {
            alert('Dreamscape saved to your local dream journal. All data remains private on your device.');
            trackInteraction();
        }

        // Theme Toggle - Fixed for latent-space

        // Initialize all systems on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Theme Toggle - Exact copy from Air India
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.querySelector('.theme-icon');

            // Initialize theme from localStorage or default to dark
            const currentTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', currentTheme);
            document.body.setAttribute('data-theme', currentTheme);
            if (themeIcon) {
                themeIcon.textContent = currentTheme === 'light' ? '🌙' : '☀️';
            }

            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const isLight = document.documentElement.getAttribute('data-theme') === 'light';
                    const newTheme = isLight ? 'dark' : 'light';

                    document.documentElement.setAttribute('data-theme', newTheme);
                    document.body.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                    if (themeIcon) {
                        themeIcon.textContent = newTheme === 'light' ? '🌙' : '☀️';
                    }
                });
            }

            // Add page entrance animation
            document.body.classList.add('page-enter');
            requestAnimationFrame(() => {
                document.body.classList.add('page-enter-active');
            });

            // Initialize design systems
            const microInteractions = new MicroInteractions();

            // Navigation is now just standard HTML, no JS needed
            // Bot will be initialized by external script

            // Debug bot initialization
            setTimeout(() => {
                console.log('Checking for bot elements...');
                const botFab = document.getElementById('botFab');
                const botPanel = document.getElementById('botPanel');
                console.log('Bot FAB:', botFab);
                console.log('Bot Panel:', botPanel);
                if (botFab) {
                    console.log('Bot FAB styles:', getComputedStyle(botFab).position, getComputedStyle(botFab).display, getComputedStyle(botFab).opacity);
                }
            }, 2000);

            // Auto-start some animations
            setTimeout(() => {
                const firstMetric = document.querySelector('.metric-card');
                if (firstMetric) firstMetric.click();
            }, 1000);

            // Enhanced scroll performance
            let ticking = false;
            function updateScrollElements() {
                // Smooth scroll performance optimizations
                requestAnimationFrame(() => {
                    ticking = false;
                });
            }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(updateScrollElements);
                    ticking = true;
                }
            });
        });
    </script>

    <!-- Team Section -->
    <section class="section" id="team">
        <div class="section-container">
            <div class="section-title">
                <div class="section-eyebrow">Design Perspectives</div>
                <h2 class="section-heading">Behind the Speculation</h2>
            </div>

            <div style="max-width: 48rem; margin: 0 auto;">
                <div class="team-intro glass-card" style="padding: 2rem; margin-bottom: 3rem; text-align: center;">
                    <p style="font-size: 1.125rem; line-height: 1.7; color: rgba(255, 255, 255, 0.9); margin: 0;">
                        This speculative project emerged from questioning the boundaries between technology and consciousness. Rather than proposing solutions, it explores the ethical and experiential implications of potential dream technologies.
                    </p>
                </div>

                <div class="team-grid" style="display: grid; gap: 2rem; margin-bottom: 3rem;">
                    <!-- Design Philosophy -->
                    <div class="team-card glass-card" style="padding: 2rem;">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div class="team-icon" style="width: 3rem; height: 3rem; background: linear-gradient(135deg, rgba(139, 69, 19, 0.3), rgba(160, 82, 45, 0.3)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 1rem;">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                </svg>
                            </div>
                            <h3 style="font-size: 1.25rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); margin: 0;">Design Philosophy</h3>
                        </div>
                        <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin: 0;">
                            Speculative design as a tool for ethical reflection. Every interface decision considers the human implications of technology that touches consciousness itself.
                        </p>
                    </div>

                    <!-- Research Approach -->
                    <div class="team-card glass-card" style="padding: 2rem;">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div class="team-icon" style="width: 3rem; height: 3rem; background: linear-gradient(135deg, rgba(75, 0, 130, 0.3), rgba(138, 43, 226, 0.3)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 1rem;">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                                </svg>
                            </div>
                            <h3 style="font-size: 1.25rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); margin: 0;">Research Approach</h3>
                        </div>
                        <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin: 0;">
                            Grounded in neuroscience research, sleep studies, and consciousness philosophy. Each speculative element builds from documented scientific understanding.
                        </p>
                    </div>

                    <!-- Ethical Framework -->
                    <div class="team-card glass-card" style="padding: 2rem;">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div class="team-icon" style="width: 3rem; height: 3rem; background: linear-gradient(135deg, rgba(0, 100, 0, 0.3), rgba(34, 139, 34, 0.3)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 1rem;">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                </svg>
                            </div>
                            <h3 style="font-size: 1.25rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); margin: 0;">Ethical Framework</h3>
                        </div>
                        <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin: 0;">
                            Privacy, consent, and mental sovereignty as core principles. Technology should augment human experience, not exploit consciousness.
                        </p>
                    </div>
                </div>

                <!-- Contact -->
                <div class="team-contact glass-card" style="padding: 2rem; text-align: center;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); margin-bottom: 1rem;">Continue the Conversation</h3>
                    <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin-bottom: 1.5rem;">
                        This speculation raises more questions than answers. What ethical considerations would you prioritize in dream technology?
                    </p>
                    <button class="cta-button" onclick="window.open('mailto:hello@example.com?subject=Dream Technology Ethics', '_blank')" style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05)); border: 1px solid rgba(255, 255, 255, 0.2); padding: 0.75rem 2rem; border-radius: 2rem; color: rgba(255, 255, 255, 0.9); cursor: pointer; transition: all 0.3s ease; font-weight: 500;">
                        Share Your Thoughts
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="section" style="border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 4rem;">
        <div class="section-container" style="padding-top: 3rem; padding-bottom: 3rem;">
            <div style="display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 2rem; margin-bottom: 2rem;">
                <!-- Left: Project Info -->
                <div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; color: rgba(255, 255, 255, 0.95); margin-bottom: 0.5rem;">Latent Space</h3>
                    <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.875rem; margin: 0;">Speculative design exploration</p>
                </div>

                <!-- Center: Interaction Counter -->
                <div class="interaction-counter glass-card" style="padding: 1rem 1.5rem; text-align: center; min-width: 10rem;">
                    <div style="font-size: 1.5rem; font-weight: 700; color: rgba(255, 255, 255, 0.95); margin-bottom: 0.25rem;" id="interaction-count">0</div>
                    <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.6); text-transform: uppercase; letter-spacing: 0.05em;">Interactions</div>
                </div>

                <!-- Right: Navigation -->
                <div style="text-align: right;">
                    <nav style="display: flex; gap: 1.5rem; justify-content: flex-end; flex-wrap: wrap;">
                        <a href="#hero" class="footer-link" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;">Overview</a>
                        <a href="#research" class="footer-link" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;">Research</a>
                        <a href="#science" class="footer-link" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;">Science</a>
                        <a href="#concepts" class="footer-link" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;">Concepts</a>
                        <a href="#vision" class="footer-link" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.875rem; transition: color 0.3s ease;">Vision</a>
                    </nav>
                </div>
            </div>

            <!-- Bottom: Credits -->
            <div style="text-align: center; padding-top: 2rem; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                <p style="color: rgba(255, 255, 255, 0.5); font-size: 0.75rem; margin: 0;">
                    A speculative design exploration into the ethics of dream technology &mdash; 2024
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Interaction tracking for footer counter
        // Use global interaction counter
        const interactionCountElement = document.getElementById('interaction-count');

        function trackInteraction() {
            globalInteractionCount++;
            if (interactionCountElement) {
                interactionCountElement.textContent = globalInteractionCount;
            }
        }

        // Add footer link hover effects
        document.addEventListener('DOMContentLoaded', () => {
            const footerLinks = document.querySelectorAll('.footer-link');
            footerLinks.forEach(link => {
                link.addEventListener('mouseenter', () => {
                    link.style.color = 'rgba(255, 255, 255, 0.95)';
                });
                link.addEventListener('mouseleave', () => {
                    link.style.color = 'rgba(255, 255, 255, 0.7)';
                });
            });

            // Add CTA button hover effect
            const ctaButton = document.querySelector('.cta-button');
            if (ctaButton) {
                ctaButton.addEventListener('mouseenter', () => {
                    ctaButton.style.background = 'linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15))';
                    ctaButton.style.transform = 'translateY(-2px)';
                });
                ctaButton.addEventListener('mouseleave', () => {
                    ctaButton.style.background = 'linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05))';
                    ctaButton.style.transform = 'translateY(0)';
                });
            }
        });

        // Concept carousel navigation
        function goToConcept(index) {
            trackInteraction();

            // Hide all slides
            document.querySelectorAll('.concept-slide').forEach(slide => {
                slide.classList.remove('active');
            });

            // Hide all dots
            document.querySelectorAll('.concept-dot').forEach(dot => {
                dot.classList.remove('active');
            });

            // Show selected slide and dot
            const selectedSlide = document.querySelector(`[data-concept="${index}"]`);
            const selectedDot = document.querySelector(`.concept-dot[data-concept="${index}"]`);

            if (selectedSlide) selectedSlide.classList.add('active');
            if (selectedDot) selectedDot.classList.add('active');
        }

        // Add responsive styles for team grid
        const style = document.createElement('style');
        style.textContent = `
            @media (max-width: 768px) {
                footer .section-container > div:first-child {
                    grid-template-columns: 1fr !important;
                    text-align: center !important;
                    gap: 1.5rem !important;
                }

                footer nav {
                    justify-content: center !important;
                }

                .team-grid {
                    grid-template-columns: 1fr !important;
                }

                .team-contact button {
                    width: 100%;
                    max-width: 16rem;
                }
            }

            .team-card:hover {
                background: rgba(255, 255, 255, 0.08);
                transform: translateY(-2px);
            }

            .team-card {
                transition: all 0.3s ease;
            }

            .interaction-counter {
                border: 1px solid rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
            }
            /* Light mode support */
            [data-theme="light"] {
                --glass: var(--surface-primary);
                --glass-border: var(--border-primary);
                --glass-hover: var(--surface-hover);
            }

            [data-theme="light"] .section-container {
                color: var(--text-primary);
            }

            [data-theme="light"] .hero-title {
                background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            [data-theme="light"] .stat-card,
            [data-theme="light"] .metric-card,
            [data-theme="light"] .chapter-card,
            [data-theme="light"] .team-card {
                background: var(--surface-primary);
                border-color: var(--border-primary);
                color: var(--text-primary);
            }

            [data-theme="light"] .concept-slide {
                background: var(--surface-primary);
                color: var(--text-primary);
            }

            [data-theme="light"] .team-card:hover {
                background: var(--surface-hover);
            }

            [data-theme="light"] .bg-orbs {
                display: none; /* Hide background orbs in light mode */
            }
        `;
        document.head.appendChild(style);

        // Initialize portfolio modules after the page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize theme system
            if (window.Theme) Theme.init();

            // Initialize chat bot
            if (window.Chat) Chat.init();

            // Initialize particles if available
            if (window.Particles) Particles.init();

            // Initialize navigation
            if (window.Navigation) Navigation.init();

            // Make body show scrolled class for nav
            document.body.classList.add('scrolled');
        });
    </script>

    <!-- Portfolio JavaScript Modules -->
    <script src="js/config.js"></script>
    <script src="js/state.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/navigation.js"></script>

    <!-- Bot System - Must be last -->
    <script src="js/bot-elegant.js"></script>
</body>
</html>